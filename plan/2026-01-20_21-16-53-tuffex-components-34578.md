---
mode: plan
cwd: /Users/talexdreamsoul/Workspace/Projects/talex-touch
task: Tuffex components 3/4/5/7/8 plan and Vitest projects include
complexity: medium
planning_method: builtin
created_at: 2026-01-20T21:16:57+0800
---

# Plan: Tuffex components 3/4/5/7/8

ğŸ¯ ä»»åŠ¡æ¦‚è¿°
é’ˆå¯¹ç»„ä»¶æ¸…å•ç¬¬ 3/4/5/7/8 é¡¹å½¢æˆå®æ–½è·¯çº¿ï¼ŒåŒ…å« APIã€å®ç°ã€æµ‹è¯•ä¸æ–‡æ¡£ï¼Œå¹¶ç¡®ä¿ tree èƒ½åŠ›å¯å¤ç”¨ã€‚

ğŸ“‹ æ‰§è¡Œè®¡åˆ’
1. èŒƒå›´ç¡®è®¤ï¼šæ˜ç¡® 3/4/5/7/8 å¯¹åº”ç»„ä»¶åç§°ä¸åŠŸèƒ½è¾¹ç•Œï¼Œæ ¸å¯¹ä¸ç°æœ‰ç»„ä»¶é‡å ç‚¹ã€‚
2. ç°æœ‰æ¨¡å¼è°ƒç ”ï¼šé˜…è¯» 3+ ç±»ä¼¼ç»„ä»¶çš„ props/emits/types ä¸æ ·å¼ç»“æ„ï¼Œç¡®å®šç»Ÿä¸€çº¦æŸã€‚
3. API è®¾è®¡ï¼šä¸ºæ¯ä¸ªç»„ä»¶å®šä¹‰ `types.ts`ï¼Œæ˜ç¡®å¿…å¡«/å¯é€‰ propsã€äº‹ä»¶ä¸ slot çº¦å®šã€‚
4. ç»„ä»¶å®ç°ï¼šå®Œæˆ SFC ä¸é€»è¾‘ï¼Œtree ç›¸å…³èƒ½åŠ›æŠ½ç¦»ä¸ºç‹¬ç«‹åŸºç¡€ç»„ä»¶å¹¶å¤ç”¨ã€‚
5. å¯¹å¤–å¯¼å‡ºï¼šæ›´æ–° `index.ts` ä¸ `components.ts`ï¼Œè¡¥é½æ³¨å†Œå…¥å£ã€‚
6. æµ‹è¯•è¦†ç›–ï¼šä¸ºæ¯ä¸ªç»„ä»¶è¡¥é½æ ¸å¿ƒäº¤äº’ã€ç©ºæ€ã€è¾¹ç•Œæ¡ä»¶æµ‹è¯•ï¼Œå¿…è¦æ—¶ mock å¤–éƒ¨ä¾èµ–ã€‚
7. æ–‡æ¡£è¡¥å……ï¼šæ–°å¢ docs/ç¤ºä¾‹ä¸ sidebar æ¡ç›®ï¼Œè¯´æ˜ä½¿ç”¨æ–¹å¼ä¸æ³¨æ„äº‹é¡¹ã€‚
8. éªŒè¯å›å½’ï¼šæ‰§è¡Œ vitestï¼Œå…³æ³¨ utils/node ä¸ components/jsdom çš„æ‹†åˆ†æ‰§è¡Œæ•ˆæœã€‚

## ç»„ä»¶èŒƒå›´æ¸…å•ï¼ˆTUFEX-010ï¼‰

è¯´æ˜ï¼šè‹¥ç¼ºå°‘å¤–éƒ¨â€œç»„ä»¶æ¸…å•â€ï¼Œæœ¬æ¬¡ä»¥ `packages/tuffex/docs/components/index.md` ä¸
`packages/tuffex/packages/components/src/components.ts` ä¸ºç»„ä»¶æ¥æºï¼Œå½¢æˆèŒƒå›´æ¸…å•å¹¶è¡¥å……å€™é€‰ç»„ä»¶ã€‚

| ç¼–å· | ç»„ä»¶ | åŠŸèƒ½è¾¹ç•Œ | æ–°å¢/å¤ç”¨ | é‡å /ä¾èµ– |
| --- | --- | --- | --- | --- |
| 3 | TxTree | æ ‘å½¢å±•ç¤ºä¸é€‰æ‹©ï¼›å±•å¼€/æŠ˜å ã€é€‰ä¸­ä¸è¿‡æ»¤ | å¤ç”¨ï¼ˆå·²æœ‰ç»„ä»¶ï¼‰ | ä¾èµ– TxCardItem/TxCheckboxï¼›ä¸ TreeSelect/Cascader é‡å  |
| 4 | TxTreeSelect | ä¸‹æ‹‰æ ‘é€‰æ‹©ï¼›å•/å¤šé€‰ã€æœç´¢ã€æ¸…ç©º | å¤ç”¨ + è§„èŒƒåŒ– | ä¾èµ– TxTree/TxPopover/TxInputï¼›ä¸ Select/SearchSelect é‡å  |
| 5 | TxCascader | çº§è”é€‰æ‹©ï¼›è·¯å¾„é€‰æ‹©ã€å¼‚æ­¥åŠ è½½ã€æœç´¢ | å¤ç”¨ + è§„èŒƒåŒ– | ä¾èµ– TxPopover/TxSearchInput/TxCardItemï¼›ä¸ TreeSelect é‡å  |
| 7 | TxSearchSelect | æœç´¢ä¸‹æ‹‰é€‰æ‹©ï¼›å•/å¤šé€‰ä¸è¿‡æ»¤ | å¤ç”¨ + è§„èŒƒåŒ– | ä¾èµ– TxSearchInput/TxPopoverï¼›ä¸ Select é‡å  |
| 8 | TxCommandPalette | å‘½ä»¤é¢æ¿ï¼›å¿«æ·æœç´¢ä¸åŠ¨ä½œè§¦å‘ | å¤ç”¨ + è§„èŒƒåŒ– | ä¾èµ– Input/List/Overlayï¼›ä¸ SearchInput/Modal é‡å  |

### å¯è¡¥å……ç»„ä»¶å»ºè®®

## ç»„ä»¶æ¨¡å¼è°ƒç ”ï¼ˆTUFEX-020ï¼‰

è°ƒç ”å¯¹è±¡ï¼ˆè‡³å°‘ 3 ä¸ªï¼‰ï¼šTxTreeSelect / TxCascader / TxSearchSelect

| ç»„ä»¶ | Props/Emits æ¨¡å¼ | ç»“æ„é£æ ¼ |
| --- | --- | --- |
| TxTreeSelect | Props: modelValue/nodes/multiple/disabled/placeholder/searchable/clearable/placement/dropdown*ï¼›Emits: update:modelValue/change/open/close | script setup + defineOptions + withDefaults(defineProps) + defineEmitsï¼›computed/watch å¤„ç† open/searchï¼›defineExpose æš´éœ² open/close/focus/clear |
| TxCascader | Props: modelValue/options/multiple/disabled/placeholder/searchable/clearable/placement/dropdown*/expandTrigger/loadï¼›Emits: update:modelValue/change/open/close/search | script setup + defineOptions + withDefaultsï¼›å†…éƒ¨è®¡ç®— columns ä¸ searchHitsï¼›watch(open) è§¦å‘ open/closeï¼›defineExpose æš´éœ² open/close/focus |
| TxSearchSelect | Props: modelValue/options/loading/remote/searchDebounce/dropdown*/panel*ï¼›Emits: update:modelValue/change/search/select/open/close | script setup + defineOptions + withDefaultsï¼›floating-ui + Teleport/Transitionï¼›watch(open) ç®¡ç†æµ®å±‚ï¼›defineExpose æš´éœ² open/close/focus/clear |

ç»“è®ºï¼ˆå¯å¤ç”¨æ¨¡å¼ï¼‰ï¼š
- Props/Emits ç»Ÿä¸€ä»¥ `modelValue` + `update:modelValue` + `change` ä¸ºä¸»ï¼Œè¡¥å…… open/close/search/selectã€‚
- ä¸‹æ‹‰ç±»ç»„ä»¶æ™®éæä¾› `placement`/`dropdown*` æˆ– `panel*` è§†è§‰é…ç½®é¡¹ã€‚
- ç»“æ„ä¿æŒ `script setup` + `defineOptions(name)` + `withDefaults(defineProps)` + `defineEmits` + `defineExpose` çš„ä¸€è‡´é£æ ¼ã€‚

- TxTransferï¼šæ‰¹é‡å¤šé€‰ä¸å·¦å³ç©¿æ¢­ï¼Œè¦†ç›–ç®¡ç†åå°å¸¸è§åœºæ™¯ã€‚
- TxAutocompleteï¼šè¾“å…¥æç¤º/è”æƒ³ï¼Œè¡¥å¼ºæœç´¢è¾“å…¥ç”Ÿæ€ã€‚
- TxTreeTableï¼šæ ‘å½¢ + è¡¨æ ¼åˆä½“ï¼Œç”¨äºå±‚çº§æ•°æ®ç®¡ç†ã€‚


âš ï¸ é£é™©ä¸æ³¨æ„äº‹é¡¹
- API ä¸ç°æœ‰ç»„ä»¶ä¸ä¸€è‡´å¯¼è‡´ä½¿ç”¨æˆæœ¬ä¸Šå‡ã€‚
- tree æŠ½ç¦»è¿‡ç¨‹å¼•å…¥å›å½’æˆ–ç ´åå·²æœ‰å®¹å™¨å†…éƒ¨é€»è¾‘ã€‚
- ç»„ä»¶æµ‹è¯•ä¾èµ– DOM/æµè§ˆå™¨ APIï¼Œéœ€ç¡®ä¿ç¯å¢ƒéš”ç¦»ã€‚

ğŸ“ å‚è€ƒ
- `packages/tuffex/packages/components/src/components.ts`
- `packages/tuffex/packages/components/src/tree-select/src/TxTreeSelect.vue`
- `packages/tuffex/vitest.config.ts`
- projects include: components `packages/components/src/**/__tests__/**/*.test.ts`
- projects include: utils `packages/utils/__tests__/**/*.test.ts`
