# Talex Touch (Tuff) - ä»£ç åº“å…¨é¢åˆ†ææ–‡æ¡£

> **æ–‡æ¡£ç›®æ ‡**: å…¨é¢åˆ†æå‰åç«¯åŠ utils åŒ…ä»£ç ,å¯¹ç…§ plan-prd æ–‡æ¡£æ¢³ç†åŠŸèƒ½å®ç°çŠ¶æ€,è¯†åˆ«é—®é¢˜å’Œä¼˜åŒ–æ–¹å‘  
> **ç”Ÿæˆæ—¶é—´**: 2025-11-23  
> **åˆ†æèŒƒå›´**: apps/core-app (å‰åç«¯) + packages/utils + plan-prd æ–‡æ¡£

---

## ğŸ“Š æ‰§è¡Œæ‘˜è¦

### é¡¹ç›®æ¦‚å†µ

**Tuff** (åŸ TalexTouch) æ˜¯ä¸€ä¸ª**æœ¬åœ°ä¼˜å…ˆã€AI é©±åŠ¨ã€æ— é™æ‰©å±•**çš„æ¡Œé¢å‘½ä»¤ä¸­å¿ƒ,åŸºäº Electron æ„å»ºã€‚

**æŠ€æœ¯æ ˆ**:
- **å‰ç«¯**: Vue 3 + TypeScript + Vite
- **åç«¯**: Electron Main Process + Node.js
- **æ•°æ®åº“**: SQLite (Drizzle ORM)
- **åŒ…ç®¡ç†**: pnpm workspace monorepo
- **æ ¸å¿ƒåŒ…**: @talex-touch/utils (è·¨è¿›ç¨‹å…±äº«)

**ä»£ç è§„æ¨¡** (ä¼°ç®—):
- ä¸»åº”ç”¨ `apps/core-app`: ~30,000+ è¡Œä»£ç 
- Utils åŒ… `packages/utils`: ~10,000+ è¡Œä»£ç 
- PRD æ–‡æ¡£: 23 ä¸ªæ´»è·ƒæ–‡æ¡£ + 8 ä¸ªå·²å®Œæˆå½’æ¡£

### å®Œæˆåº¦æ€»è§ˆ

| ç±»åˆ« | å·²å®Œæˆ | è¿›è¡Œä¸­ | æœªå¼€å§‹ | æ€»è®¡ |
|------|--------|--------|--------|------|
| **æ ¸å¿ƒåŠŸèƒ½** | 8 | 1 | 12 | 21 |
| **æ¶æ„ç»„ä»¶** | 5 | 0 | 3 | 8 |
| **åŸºç¡€è®¾æ–½** | 7 | 0 | 2 | 9 |

**æ•´ä½“å®Œæˆåº¦**: ~52% (åŸºç¡€åŠŸèƒ½å®Œå¤‡,é«˜çº§åŠŸèƒ½å¾…å®ç°)

---

## ğŸ—ï¸ æ¶æ„åˆ†æ

### 1. ä¸»è¿›ç¨‹æ¶æ„ (Main Process)

#### ç›®å½•ç»“æ„
```
apps/core-app/src/main/
â”œâ”€â”€ core/               # åº”ç”¨æ ¸å¿ƒ (TouchApp, Windowç®¡ç†)
â”œâ”€â”€ modules/            # åŠŸèƒ½æ¨¡å— (16ä¸ªå­æ¨¡å—)
â”‚   â”œâ”€â”€ box-tool/       # æœç´¢å¼•æ“æ ¸å¿ƒ â­
â”‚   â”œâ”€â”€ plugin/         # æ’ä»¶ç³»ç»Ÿ â­
â”‚   â”œâ”€â”€ download/       # ä¸‹è½½ä¸­å¿ƒ âœ…
â”‚   â”œâ”€â”€ update/         # æ›´æ–°ç³»ç»Ÿ âœ…
â”‚   â”œâ”€â”€ ai/             # AI èƒ½åŠ›
â”‚   â”œâ”€â”€ database/       # æ•°æ®åº“æ¨¡å—
â”‚   â”œâ”€â”€ storage/        # å­˜å‚¨æ¨¡å—
â”‚   â”œâ”€â”€ clipboard.ts    # å‰ªè´´æ¿ç®¡ç†
â”‚   â”œâ”€â”€ tray/           # æ‰˜ç›˜ç³»ç»Ÿ
â”‚   â””â”€â”€ ...
â”œâ”€â”€ service/            # åå°æœåŠ¡
â””â”€â”€ utils/              # å·¥å…·å‡½æ•°
```

#### æ ¸å¿ƒæ¨¡å—åˆ†æ

##### âœ… **å·²å®Œæˆä¸”è´¨é‡è‰¯å¥½**

###### 1. **ä¸‹è½½ä¸­å¿ƒç³»ç»Ÿ** (`modules/download/`)
**çŠ¶æ€**: âœ… å·²å®Œæˆ (2025-11-20)  
**æ ¸å¿ƒåŠŸèƒ½**:
- åˆ‡ç‰‡ä¸‹è½½ + æ–­ç‚¹ç»­ä¼ 
- æ™ºèƒ½ä¼˜å…ˆçº§è°ƒåº¦ (P0-P10)
- ç½‘ç»œè‡ªé€‚åº”å¹¶å‘æ§åˆ¶ (1-10)
- SHA256 æ ¡éªŒ + é”™è¯¯é‡è¯•
- è™šæ‹Ÿæ»šåŠ¨ä¼˜åŒ– (>50 é¡¹)

**ä»£ç è´¨é‡**: â­â­â­â­â­
- å®Œæ•´çš„ API æ–‡æ¡£
- æ€§èƒ½ä¼˜åŒ–åˆ°ä½ (æ•°æ®åº“æŸ¥è¯¢ 5-10ms)
- è‰¯å¥½çš„é”™è¯¯å¤„ç†

**æ–‡æ¡£ä½ç½®**: `plan-prd/03-features/download-update/`

###### 2. **æœç´¢æ’åºä¼˜åŒ–** (`modules/box-tool/search-engine/`)
**çŠ¶æ€**: âœ… å·²å®Œæˆ (2025-11-20)  
**æ ¸å¿ƒåŠŸèƒ½**:
- `source.id + item.id` ç»„åˆé”®ç»Ÿè®¡
- usage_stats è¡¨ (search/execute/cancel è¡Œä¸º)
- æ™ºèƒ½æ’åºå…¬å¼: æƒé‡ + åŒ¹é…åº¦ + æ—¶é—´è¡°å‡ + è¡Œä¸ºåˆ†æ•°
- QueryCompletionService æŸ¥è¯¢è¡¥å…¨
- UsageSummaryService å®šæœŸæ±‡æ€»æ¸…ç†

**æ€§èƒ½æŒ‡æ ‡**:
- æŸ¥è¯¢è€—æ—¶: 5-10ms (P95) âœ…
- æ’åºå‘½ä¸­ç‡: >70% âœ…
- è‡ªåŠ¨æ¸…ç†: 30 å¤©è¿‡æœŸæ—¥å¿—

**ä»£ç äº®ç‚¹**:
- æ‰¹é‡æŸ¥è¯¢ä¼˜åŒ–,é¿å… N+1 é—®é¢˜
- å¼‚æ­¥å†™å…¥ä¸é˜»å¡æœç´¢

**ä»£ç è´¨é‡**: â­â­â­â­

###### 3. **æ’ä»¶å­˜å‚¨æœºåˆ¶** (`modules/storage/`)
**çŠ¶æ€**: âœ… å·²å®Œæˆ  
**è®¾è®¡æ–¹æ¡ˆ**:
- JSON æ–‡ä»¶ + å¼‚æ­¥ Promise API
- æ¯æ’ä»¶ 10MB é™åˆ¶
- è‡ªåŠ¨éš”ç¦» + StorageModule ç»Ÿä¸€ç®¡ç†

**ä»£ç è´¨é‡**: â­â­â­â­

##### âš ï¸ **å·²å®ç°ä½†æœ‰å¾…æ”¹è¿›**

###### 4. **æ’ä»¶ç³»ç»Ÿ** (`modules/plugin/plugin-module.ts`)
**æ–‡ä»¶è§„æ¨¡**: 2,082 è¡Œ âš ï¸ (å•æ–‡ä»¶è¿‡å¤§)

**æ ¸å¿ƒç»„ä»¶**:
- `DevPluginWatcher`: å¼€å‘æ¨¡å¼æ–‡ä»¶ç›‘æ§
- `PluginInstaller`: æ’ä»¶å®‰è£…é˜Ÿåˆ—
- `DevServerHealthMonitor`: å¼€å‘æœåŠ¡å™¨å¥åº·æ£€æŸ¥
- `TouchPlugin`: æ’ä»¶ä¸»ç±»

**å·²è¯†åˆ«é—®é¢˜** (æ¥è‡ª PRD):
1. **æ­»å¾ªç¯é£é™©**: æ’ä»¶åŠ è½½å¯èƒ½è§¦å‘é‡å¤ reload
2. **æ—¥å¿—æ··ä¹±**: æ—¥å¿—ä»£ç åˆ†æ•£,æ— ç»Ÿä¸€ç®¡ç†
3. **å¼€å‘æ¨¡å¼è„†å¼±**: Dev Server æ–­å¼€å¤„ç†ä¸å¤Ÿä¼˜é›…

**å¾…å®ç°åŠŸèƒ½** (P1 ä¼˜å…ˆçº§):
- View Mode å¢å¼º (10-15 å¤©) - `view-mode-prd.md`
- è¿œç¨‹ manifest è¦†ç›–
- Hash è·¯ç”±å¼ºåˆ¶æ£€æŸ¥
- åè®®é™åˆ¶ (ç”Ÿäº§ç¯å¢ƒç¦æ­¢ http)

**ä»£ç è´¨é‡**: â­â­â­ (åŠŸèƒ½å®Œå¤‡ä½†éœ€é‡æ„)

###### 5. **æœç´¢å¼•æ“æ ¸å¿ƒ** (`modules/box-tool/search-engine/search-core.ts`)
**æ–‡ä»¶è§„æ¨¡**: 929 è¡Œ

**æ ¸å¿ƒåŠŸèƒ½**:
- Provider æ³¨å†Œä¸ç®¡ç†
- æœç´¢è°ƒåº¦ + ç»“æœèšåˆ
- ä½¿ç”¨æ•°æ®è®°å½• + ç»Ÿè®¡æ³¨å…¥
- æ¨èå¼•æ“é›†æˆ

**å·²æ³¨å†Œ Providers**:
- `fileProvider`: æ–‡ä»¶æœç´¢
- `appProvider`: åº”ç”¨æœç´¢
- `systemProvider`: ç³»ç»Ÿå‘½ä»¤
- `urlProvider`: URL å¤„ç†
- `previewProvider`: ç›´æ¥é¢„è§ˆè®¡ç®— (éƒ¨åˆ†å®ç°)
- `clipboardProvider`: å‰ªè´´æ¿å†å²
- `intelligenceProvider`: AI æœç´¢ (å·²ç§»é™¤,æ”¹ç”¨ internal-ai-plugin)

**æ€§èƒ½ä¼˜åŒ–**:
- æœç´¢é˜²æŠ–: 300ms
- æ‰¹é‡ç»Ÿè®¡æ³¨å…¥
- sessionId é˜²æ­¢ç»“æœè¦†ç›– âœ…

**å¾…å®ç°åŠŸèƒ½** (P1):
- **ç›´æ¥é¢„è§ˆè®¡ç®—èƒ½åŠ›** (14-20 å¤©) - `direct-preview-calculation-prd.md`
  - ç®—å¼è®¡ç®— (mathjs)
  - å•ä½æ¢ç®— (UnitRegistry)
  - æ±‡ç‡è½¬æ¢ (ECB API)
  - æ—¶é—´è§£æ (luxon)
  - é¢œè‰²è½¬æ¢ (HEX/RGB/HSL)
  - ç§‘å­¦å¸¸æ•°æ”¯æŒ

**ä»£ç è´¨é‡**: â­â­â­â­

###### 6. **æ‰˜ç›˜ç³»ç»Ÿ** (`modules/tray/`)
**çŠ¶æ€**: âš ï¸ åŠŸèƒ½è–„å¼±

**å½“å‰åŠŸèƒ½**:
- åŸºç¡€æ‰˜ç›˜å›¾æ ‡
- ç®€å•èœå• (æ˜¾ç¤º/é€€å‡º)
- çª—å£å…³é—­è¡Œä¸ºé…ç½®

**å¾…å¢å¼º** (P1 ä¼˜å…ˆçº§, 5-7 å¤©):
- 9 ä¸ªæ‰˜ç›˜èœå•é¡¹ (æ˜¾ç¤º/éšè—ã€CoreBoxã€ä¸‹è½½ä¸­å¿ƒã€è®¾ç½®ç­‰)
- macOS Template å›¾æ ‡ (é»‘ç™½å•è‰²)
- åŠ¨æ€å¾½ç«  (ä¸‹è½½è¿›åº¦)
- å›½é™…åŒ–æ”¯æŒ

**ä»£ç è´¨é‡**: â­â­

##### âŒ **æœªå®ç°æˆ–å¤„äºè§„åˆ’é˜¶æ®µ**

###### 7. **æ¨¡å—æ—¥å¿—ç³»ç»Ÿ** (P0 ç´§æ€¥)
**çŠ¶æ€**: âŒ æœªå®ç°  
**å·¥æœŸ**: 8-11 å¤©  
**æ–‡æ¡£**: `plan-prd/02-architecture/module-logging-system-prd.md`

**è§„åˆ’å†…å®¹**:
- `LogLevel` æšä¸¾
- `ModuleLogger` ç±» (debug/info/warn/error)
- `LoggerManager` å•ä¾‹
- é…ç½®æŒä¹…åŒ–åˆ° `app-setting.ini`
- UI é…ç½®ç•Œé¢

**ç›®æ ‡**:
- 90% æ ¸å¿ƒæ¨¡å—ä½¿ç”¨ç»Ÿä¸€ Logger
- æ—¥å¿—ç¦ç”¨æ—¶æ€§èƒ½å¼€é”€ <1%
- é…ç½®ä¿®æ”¹ <100ms ç”Ÿæ•ˆ

**ä¼˜å…ˆçº§**: ğŸ”´ P0 (æœ€é«˜)

###### 8. **å¹³å°èƒ½åŠ›ä½“ç³»** (P3 é•¿æœŸ)
**çŠ¶æ€**: âŒ æœªå®ç°  
**å·¥æœŸ**: 20-30 å¤©  
**æ–‡æ¡£**: `plan-prd/02-architecture/platform-capabilities-prd.md`

**æ ¸å¿ƒæ¦‚å¿µ**:
- `PlatformCoreService`: èƒ½åŠ›æ³¨å†Œè¡¨ + æˆæƒç­–ç•¥
- `Capability Provider` åè®®
- SDK ç»Ÿä¸€å…¥å£: `platform.invoke<CapabilityId>(method, payload)`
- èƒ½åŠ›ç‰ˆæœ¬åŒ– + æƒé™ç®¡ç†

**èƒ½åŠ›èŒƒå›´**:
- èº«ä»½ä¸æˆæƒ
- æ•°æ®ä¸é…ç½®
- äº¤äº’ä¸ UI
- ä»»åŠ¡ä¸è°ƒåº¦
- è§‚æµ‹ä¸æ—¥å¿—
- å®‰å…¨ä¸åˆè§„

**éªŒæ”¶æ ‡å‡†**:
- è‡³å°‘ 20 ä¸ªç°æœ‰èƒ½åŠ›é€šè¿‡æ–°æ¡†æ¶æ³¨å†Œ
- èƒ½åŠ›è°ƒç”¨å¤±è´¥ç‡ä¸‹é™ â‰¥30%
- å¼€å‘è€…æ»¡æ„åº¦ â‰¥4.5/5

**ä¼˜å…ˆçº§**: ğŸ”µ P3 (é•¿æœŸè§„åˆ’)

###### 9. **AI èƒ½åŠ›æ³›åŒ–æ¥å£** (P3 é•¿æœŸ)
**çŠ¶æ€**: âŒ æœªå®ç°  
**å·¥æœŸ**: 15-20 å¤©  
**æ–‡æ¡£**: `plan-prd/02-architecture/ai-power-generic-api-prd.md`

**æ ¸å¿ƒè®¾è®¡**:
- `AiCapabilityRegistry`: èƒ½åŠ›æè¿°ä½“ç³»
- Provider æ¥å…¥æ¡†æ¶
- ç­–ç•¥å¼•æ“ (RuleBased/Adaptive)
- SDK å°è£…: `ai.invoke()`
- è§‚æµ‹ & è®¡è´¹

**ä¼˜å…ˆçº§**: ğŸ”µ P3

---

### 2. æ¸²æŸ“è¿›ç¨‹æ¶æ„ (Renderer Process)

#### ç›®å½•ç»“æ„
```
apps/core-app/src/renderer/src/
â”œâ”€â”€ components/         # UI ç»„ä»¶ (183 ä¸ªæ–‡ä»¶)
â”‚   â”œâ”€â”€ download/       # ä¸‹è½½ä¸­å¿ƒUI
â”‚   â”œâ”€â”€ market/         # å¸‚åœºé¡µé¢
â”‚   â”œâ”€â”€ tuff/           # é€šç”¨UIç»„ä»¶
â”‚   â””â”€â”€ ...
â”œâ”€â”€ modules/            # åŠŸèƒ½æ¨¡å— (75 ä¸ªæ–‡ä»¶)
â”‚   â”œâ”€â”€ box/            # CoreBox æ ¸å¿ƒ
â”‚   â”œâ”€â”€ lang/           # i18n å›½é™…åŒ–
â”‚   â”œâ”€â”€ storage/        # å‰ç«¯å­˜å‚¨
â”‚   â””â”€â”€ ...
â”œâ”€â”€ composables/        # Vue Composables
â”œâ”€â”€ stores/             # Pinia çŠ¶æ€ç®¡ç†
â”œâ”€â”€ views/              # é¡µé¢è§†å›¾ (67 ä¸ªæ–‡ä»¶)
â””â”€â”€ locales/            # è¯­è¨€æ–‡ä»¶ (zh-CN, en-US)
```

#### æ ¸å¿ƒåŠŸèƒ½åˆ†æ

##### âœ… **å·²å®Œæˆ**

###### 1. **ä¸‹è½½ä¸­å¿ƒ UI** (`components/download/`)
**çŠ¶æ€**: âœ… å·²å®Œæˆ  
**æ ¸å¿ƒç»„ä»¶**:
- `UpdatePromptDialog`: æ›´æ–°æç¤ºå¯¹è¯æ¡†
- `VirtualTaskList`: è™šæ‹Ÿæ»šåŠ¨ä»»åŠ¡åˆ—è¡¨
- è¿›åº¦è·Ÿè¸ª + çŠ¶æ€å±•ç¤º

**æ€§èƒ½ä¼˜åŒ–**:
- è™šæ‹Ÿæ»šåŠ¨ (>50 é¡¹)
- è¿›åº¦æ›´æ–°èŠ‚æµ (1ç§’/ä»»åŠ¡)

###### 2. **Market é¡µé¢é‡æ„** (2025-11-23)
**æœ€æ–°è¿›å±•**:
- å·²é€‚é… `AsideTemplate` å¸ƒå±€
- æå–äº† hooks å’Œç»„ä»¶:
  - `useMarketInstall.ts`: å®‰è£…é€»è¾‘
  - `useMarketCategories.ts`: åˆ†ç±»ç®¡ç†
  - `MarketCategoryList.vue`: åˆ†ç±»åˆ—è¡¨ç»„ä»¶
- å®ç° i18n å›½é™…åŒ–

**ä»£ç è´¨é‡**: â­â­â­â­

###### 3. **CoreBox æ ¸å¿ƒ** (`modules/box/`)
**æ ¸å¿ƒåŠŸèƒ½**:
- æœç´¢æ¡†äº¤äº’
- ç»“æœåˆ—è¡¨å±•ç¤º
- Provider æ¿€æ´»çŠ¶æ€ç®¡ç†
- DivisionBox äº¤äº’å®¹å™¨

**å½“å‰é—®é¢˜** (æ¥è‡ªä¼šè¯å†å²):
- suffix tag æ˜¾ç¤ºä¸ä¸€è‡´
- autopaste åŠŸèƒ½å¼‚å¸¸
- ESC é”®å–æ¶ˆè¡Œä¸ºä¸ç¨³å®š

è¿™äº›é—®é¢˜å·²åœ¨ä¹‹å‰çš„ä¼šè¯ä¸­ä¿®å¤ã€‚

##### âš ï¸ **å¾…æ”¹è¿›**

###### 4. **Icon æ˜¾ç¤ºä¸ç´¢å¼•** (å·²éƒ¨åˆ†ä¿®å¤)
**é—®é¢˜**:
- æ–‡ä»¶å›¾æ ‡æ˜¾ç¤ºå¼‚å¸¸
- ç´¢å¼•è¿›åº¦æ˜¾ç¤º"å°†ä¼šå¾ˆå¿«å®Œæˆ"è€Œä¸æ˜¯ç™¾åˆ†æ¯”
- å›¾æ ‡æ ¼å¼éœ€ç¡®ä¿ Data URI å®Œæ•´æ€§

**è§£å†³æ–¹æ¡ˆ** (å·²å®æ–½éƒ¨åˆ†):
- ç¡®ä¿ Data URI æ ¼å¼æ­£ç¡®
- ä¼˜åŒ– `TuffIcon` ç»„ä»¶
- æ”¹è¿›æ–‡ä»¶åè®®å¤„ç†

##### âŒ **æœªå®ç°åŠŸèƒ½**

###### 5. **DivisionBox æ·±åŒ–** (P2)
**çŠ¶æ€**: âŒ æœªå®ç°  
**å·¥æœŸ**: 10-15 å¤©  
**æ–‡æ¡£**: `plan-prd/03-features/division-box-prd.md`

**è§„åˆ’å†…å®¹**:
- `DivisionBoxManager` ç±» + Session ç”Ÿå‘½å‘¨æœŸ
- `DivisionBoxShell` Vue ç»„ä»¶
- `useDivisionBoxStore` çŠ¶æ€ç®¡ç†
- SDK æ‰©å±•: `plugin.divisionBox.open()`
- keepAlive ç¼“å­˜æœºåˆ¶

**æ€§èƒ½ç›®æ ‡**:
- é¦–å¸§ <250ms
- æ¢å¤ <120ms

###### 6. **å¤šè§†å›¾å¹¶è¡Œå…±å­˜** (P2)
**çŠ¶æ€**: âŒ æœªå®ç°  
**å·¥æœŸ**: 10-15 å¤©  
**æ–‡æ¡£**: `plan-prd/03-features/view/multi-attach-view-prd.md`

**è§„åˆ’å†…å®¹**:
- `MultiViewHost` ç®¡ç†å™¨
- `ViewDock` ç»„ä»¶ (Tab/Split/Grid å¸ƒå±€)
- æ‹–æ‹½äº¤äº’
- SDK é€‚é…: `plugin.uiView.onFocusChange()`

**éªŒæ”¶æ ‡å‡†**:
- å• CoreBox å¹¶è¡ŒæŒ‚è½½ 3 ä¸ªè§†å›¾
- æ”¯æŒ 3 ç§å¸ƒå±€æ¨¡å¼åˆ‡æ¢
- FPS â‰¥40

###### 7. **AttachUIView ç¼“å­˜ä¼˜åŒ–** (P2)
**çŠ¶æ€**: âŒ æœªå®ç°  
**å·¥æœŸ**: 10-12 å¤©  
**æ–‡æ¡£**: `plan-prd/03-features/view/attach-view-cache-prd.md`

**è§„åˆ’å†…å®¹**:
- ä¸‰çº§ç¼“å­˜ (Hot/Warm/Cool)
- Score æ¨¡å‹ + LRU å›æ”¶
- ä½¿ç”¨æ•°æ®é‡‡é›† + ViewUsageStore

**ç›®æ ‡**:
- ç¼“å­˜å‘½ä¸­ç‡ â‰¥70%
- å¹³å‡æ‰“å¼€æ—¶å»¶ä¸‹é™ â‰¥40%
- é«˜é¢‘è§†å›¾æ‰“å¼€ <200ms

###### 8. **Flow Transfer æµè½¬èƒ½åŠ›** (P2)
**çŠ¶æ€**: âŒ æœªå®ç°  
**å·¥æœŸ**: 15-20 å¤©  
**æ–‡æ¡£**: `plan-prd/03-features/flow-transfer-prd.md`

**è§„åˆ’å†…å®¹**:
- `FlowBus` è°ƒåº¦æ¨¡å—
- `FlowSelector` ç»„ä»¶
- SDK: `flow.dispatch()`, `flow.onSessionUpdate()`
- æˆæƒå¯¹è¯æ¡† + Session çŠ¶æ€è·Ÿè¸ª

**éªŒæ”¶æ ‡å‡†**:
- æ’ä»¶èƒ½ä¼ é€’æ–‡æœ¬/JSON/File ä¸‰ç±»è½½è·
- æµè½¬é¢æ¿æ“ä½œæµç•…
- æƒé™æ§ä»¶æœ‰æ•ˆ

---

### 3. Utils åŒ…æ¶æ„ (`packages/utils/`)

#### ç›®å½•ç»“æ„
```
packages/utils/
â”œâ”€â”€ animation/          # åŠ¨ç”»å·¥å…·
â”œâ”€â”€ auth/               # è®¤è¯ (Clerk é›†æˆ)
â”œâ”€â”€ base/               # åŸºç¡€ç±»å‹
â”œâ”€â”€ channel/            # IPC é€šé“å®šä¹‰
â”œâ”€â”€ common/             # é€šç”¨å·¥å…· (18 ä¸ªæ–‡ä»¶)
â”œâ”€â”€ core-box/           # CoreBox æ ¸å¿ƒ â­
â”‚   â”œâ”€â”€ builder/        # TuffSearchResultBuilder
â”‚   â”œâ”€â”€ preview/        # é¢„è§ˆåŠŸèƒ½
â”‚   â”œâ”€â”€ tuff/           # Tuff æ ¸å¿ƒç±»å‹
â”‚   â””â”€â”€ recommendation.ts
â”œâ”€â”€ electron/           # Electron ç±»å‹
â”œâ”€â”€ eventbus/           # äº‹ä»¶æ€»çº¿
â”œâ”€â”€ intelligence/       # AI æ™ºèƒ½
â”œâ”€â”€ permission/         # æƒé™ç®¡ç†
â”œâ”€â”€ plugin/             # æ’ä»¶ç±»å‹å®šä¹‰ (32 ä¸ªæ–‡ä»¶)
â”œâ”€â”€ preload/            # Preload è„šæœ¬
â”œâ”€â”€ renderer/           # æ¸²æŸ“è¿›ç¨‹å·¥å…· (18 ä¸ªæ–‡ä»¶)
â”œâ”€â”€ search/             # æœç´¢ç±»å‹
â”œâ”€â”€ service/            # æœåŠ¡ç±»å‹
â””â”€â”€ types/              # å…¨å±€ç±»å‹ (13 ä¸ªæ–‡ä»¶)
```

#### æ ¸å¿ƒæ¨¡å—åˆ†æ

##### âœ… **å·²å®Œæˆä¸”è´¨é‡è‰¯å¥½**

###### 1. **CoreBox Builder** (`core-box/builder/`)
**æ ¸å¿ƒç±»**:
- `TuffSearchResultBuilder`: æœç´¢ç»“æœæ„é€ å™¨
- `TuffItemBuilder`: æœç´¢é¡¹æ„é€ å™¨

**è®¾è®¡ä¼˜åŠ¿**:
- Builder æ¨¡å¼,é“¾å¼è°ƒç”¨
- ç±»å‹å®‰å…¨ (TypeScript)
- ç»Ÿä¸€çš„ç»“æœæ„é€ æ¥å£

**ä»£ç è´¨é‡**: â­â­â­â­â­

###### 2. **Plugin ç±»å‹å®šä¹‰** (`plugin/`)
**æ ¸å¿ƒç±»å‹**:
- `IManifest`: æ’ä»¶æ¸…å•
- `ITouchPlugin`: æ’ä»¶å®ä¾‹
- `IPluginManager`: æ’ä»¶ç®¡ç†å™¨
- `IPluginWebview`: Webview é…ç½®
- `IPluginDev`: å¼€å‘æ¨¡å¼é…ç½®

**æ¶µç›–é¢†åŸŸ**:
- æ’ä»¶ç”Ÿå‘½å‘¨æœŸ
- Feature æ³¨å†Œ
- æƒé™å£°æ˜
- SDK æ¥å£

**ä»£ç è´¨é‡**: â­â­â­â­

###### 3. **Search ç±»å‹** (`search/`)
**æ ¸å¿ƒç±»å‹**:
- `TuffQuery`: æŸ¥è¯¢å¯¹è±¡
- `TuffItem`: æœç´¢ç»“æœé¡¹
- `TuffSearchResult`: æœç´¢ç»“æœé›†
- `ISearchProvider`: Provider æ¥å£
- `TuffScoring`: è¯„åˆ†æ¨¡å‹

**è®¾è®¡äº®ç‚¹**:
- æ¸…æ™°çš„æ¥å£å®šä¹‰
- å…ƒæ•°æ®æ‰©å±•æ€§å¼º
- æ”¯æŒå¤šç§ Provider ç±»å‹

**ä»£ç è´¨é‡**: â­â­â­â­â­

##### âš ï¸ **å¾…å®Œå–„**

###### 4. **Recommendation æ¨èç³»ç»Ÿ** (`core-box/recommendation.ts`)
**å½“å‰çŠ¶æ€**: éƒ¨åˆ†å®ç°

**å·²å®ç°**:
- åŸºç¡€æ¨èç±»å‹å®šä¹‰
- `RecommendationReason` æšä¸¾

**å¾…å®ç°** (P2 ä¼˜å…ˆçº§, 15-22 å¤©):
- æ—¶é—´ä¸Šä¸‹æ–‡æ¨è
- å‰ªè´´æ¿æ™ºèƒ½æ¨è
- å‰å°åº”ç”¨å…³è”æ¨è
- æ¨èç†ç”±å±•ç¤º
- å¤šæ ·æ€§è°ƒæ•´ç®—æ³•
- ç”¨æˆ·æ§åˆ¶è®¾ç½®é¢æ¿

**éªŒæ”¶æ ‡å‡†**:
- 30%+ ç”¨æˆ·å¯ç”¨æ¨è
- æ¨èç‚¹å‡»ç‡ >15%
- å¹³å‡å‡å°‘ 1.5 æ¬¡è¾“å…¥/ä¼šè¯

**æ–‡æ¡£**: `plan-prd/03-features/search/intelligent-recommendation-system-prd.md`

###### 5. **AI Intelligence** (`intelligence/`)
**å½“å‰çŠ¶æ€**: åŸºç¡€æ¡†æ¶

**å¾…å®ç°** (P3):
- AI èƒ½åŠ›è·¯ç”±
- å¤šæ¨¡å‹æ”¯æŒ
- è§‚æµ‹ä¸è®¡è´¹
- ç­–ç•¥å¼•æ“

---

## ğŸ› å·²è¯†åˆ«é—®é¢˜æ¸…å•

### ğŸ”´ P0 ç´§æ€¥é—®é¢˜

#### 1. **æ—¥å¿—ç³»ç»Ÿç¢ç‰‡åŒ–**
**é—®é¢˜æè¿°**:
- æ—¥å¿—ä»£ç åˆ†æ•£åœ¨å„æ¨¡å—
- æ— ç»Ÿä¸€çš„ Logger æ¥å£
- éš¾ä»¥æ§åˆ¶æ—¥å¿—çº§åˆ«
- ç”Ÿäº§ç¯å¢ƒæ—¥å¿—æ³„éœ²é£é™©

**å½±å“æ¨¡å—**:
- SearchEngine
- PluginModule
- DatabaseModule
- StorageModule
- æ‰€æœ‰ Providers

**è§£å†³æ–¹æ¡ˆ**: å®æ–½æ¨¡å—æ—¥å¿—ç³»ç»Ÿ PRD (8-11 å¤©)

**ä¼˜å…ˆçº§**: ğŸ”´ P0

#### 2. **æ’ä»¶åŠ è½½æ½œåœ¨æ­»å¾ªç¯**
**é—®é¢˜æè¿°**:
- æ’ä»¶é‡æ–°åŠ è½½å¯èƒ½è§¦å‘é‡å¤ reload
- Devæ¨¡å¼æ–‡ä»¶ç›‘æ§å¯èƒ½è¿‡åº¦è§¦å‘
- ç¼ºä¹ reload é˜²æŠ–æœºåˆ¶

**å½±å“èŒƒå›´**:
- å¼€å‘ä½“éªŒä¸¥é‡ä¸‹é™
- å¯èƒ½å¯¼è‡´åº”ç”¨å´©æºƒ

**è§£å†³æ–¹æ¡ˆ**: View Mode ä¸å¼€å‘æ¨¡å¼å¢å¼º PRD (10-15 å¤©)

**ä¼˜å…ˆçº§**: ğŸ”´ P0

### ğŸŸ¡ P1 é‡è¦é—®é¢˜

#### 3. **æ‰˜ç›˜åŠŸèƒ½è–„å¼±**
**é—®é¢˜æè¿°**:
- èœå•é¡¹è¿‡å°‘ (ä»…æ˜¾ç¤º/é€€å‡º)
- æ— æ³•å¿«é€Ÿè®¿é—®æ ¸å¿ƒåŠŸèƒ½
- ç¼ºå°‘åŠ¨æ€å¾½ç« 
- å›¾æ ‡ä¸ç¬¦åˆ macOS è§„èŒƒ

**è§£å†³æ–¹æ¡ˆ**: æ‰˜ç›˜ç³»ç»Ÿä¼˜åŒ– PRD (5-7 å¤©)

#### 4. **extract-icon API æ€§èƒ½ä½ä¸‹**
**é—®é¢˜æè¿°**:
- IPC è°ƒç”¨å»¶è¿Ÿé«˜ (50-100ms)
- é˜»å¡ä¸»è¿›ç¨‹
- ä¸å¿…è¦çš„ IPC é€šä¿¡

**è§£å†³æ–¹æ¡ˆ**: è¿ç§»è‡³ `tfile://` åè®® (1-2 å¤©)

**æ€§èƒ½æå‡**: 50-100ms â†’ <10ms (5-10x)

#### 5. **ç¼ºå°‘ç›´æ¥é¢„è§ˆè®¡ç®—èƒ½åŠ›**
**é—®é¢˜æè¿°**:
- æ— æ³•åœ¨æœç´¢æ¡†ç›´æ¥è®¡ç®—ç®—å¼
- ç¼ºå°‘å•ä½æ¢ç®—
- ç¼ºå°‘æ±‡ç‡æŸ¥è¯¢
- ç¼ºå°‘æ—¶é—´è§£æ

**ç”¨æˆ·ç—›ç‚¹**: éœ€è¦åˆ‡æ¢åˆ°å…¶ä»–åº”ç”¨è¿›è¡Œç®€å•è®¡ç®—

**è§£å†³æ–¹æ¡ˆ**: ç›´æ¥é¢„è§ˆè®¡ç®—èƒ½åŠ› PRD (14-20 å¤©)

**éªŒæ”¶æ ‡å‡†**:
- å‘½ä¸­ç‡ â‰¥95%
- å¹³å‡å“åº” <50ms
- ç»“æœåœ¨æœç´¢ç»“æœé¦–è¡Œå±•ç¤º

### ğŸŸ¢ P2 å¢å¼ºé—®é¢˜

#### 6. **è§†å›¾ç¼“å­˜ç¼ºå¤±**
**é—®é¢˜æè¿°**:
- æ¯æ¬¡æ‰“å¼€ AttachUIView éƒ½é‡æ–°åŠ è½½
- é«˜é¢‘è§†å›¾æ‰“å¼€æ…¢ (>500ms)
- èµ„æºæµªè´¹

**è§£å†³æ–¹æ¡ˆ**: AttachUIView ç¼“å­˜ä¼˜åŒ– PRD (10-12 å¤©)

#### 7. **å•è§†å›¾é™åˆ¶**
**é—®é¢˜æè¿°**:
- CoreBox ä¸€æ¬¡åªèƒ½æ˜¾ç¤ºä¸€ä¸ªæ’ä»¶è§†å›¾
- æ— æ³•å¹¶è¡Œä½¿ç”¨å¤šä¸ªæ’ä»¶
- ç¼ºå°‘ Tab/Split/Grid å¸ƒå±€

**è§£å†³æ–¹æ¡ˆ**: å¤šè§†å›¾å¹¶è¡Œå…±å­˜ PRD (10-15 å¤©)

#### 8. **æ’ä»¶é—´æ•°æ®æµè½¬ä¸ä¾¿**
**é—®é¢˜æè¿°**:
- æ’ä»¶é—´æ— æ³•ç›´æ¥ä¼ é€’æ•°æ®
- åªèƒ½é€šè¿‡å‰ªè´´æ¿ä¸­è½¬
- ç¼ºå°‘æµè½¬æˆæƒæœºåˆ¶

**è§£å†³æ–¹æ¡ˆ**: Flow Transfer æµè½¬èƒ½åŠ› PRD (15-20 å¤©)

### ğŸ”µ P3 é•¿æœŸé—®é¢˜

#### 9. **èƒ½åŠ›æŠ½è±¡ç¢ç‰‡åŒ–**
**é—®é¢˜æè¿°**:
- é€šç”¨èƒ½åŠ›åˆ†æ•£åœ¨ SDKã€CoreBoxã€å·¥å…·æ¨¡å—
- ç¼ºä¹ç»Ÿä¸€æŠ½è±¡
- å¼€å‘è€…éš¾ä»¥å‘ç°å’Œå¤ç”¨

**è§£å†³æ–¹æ¡ˆ**: å¹³å°èƒ½åŠ›ä½“ç³» PRD (20-30 å¤©)

#### 10. **AI èƒ½åŠ›æ¥å…¥æ··ä¹±**
**é—®é¢˜æè¿°**:
- å„æ¨¡å—ç‹¬ç«‹æ¥å…¥ AI
- æ— ç»Ÿä¸€è·¯ç”±å’Œç­–ç•¥
- ç¼ºå°‘è§‚æµ‹å’Œè®¡è´¹

**è§£å†³æ–¹æ¡ˆ**: AI èƒ½åŠ›æ³›åŒ–æ¥å£ PRD (15-20 å¤©)

---

## âœ… å·²å®ŒæˆåŠŸèƒ½è¯¦æƒ…

### 1. æœç´¢æ’åºç³»ç»Ÿä¼˜åŒ– âœ…
**å®Œæˆæ—¶é—´**: 2025-11-20  
**æ ¸å¿ƒæˆæœ**:
- `source.id + item.id` ç»„åˆé”®ç»Ÿè®¡
- `item_usage_stats` è¡¨ (search/execute/cancel)
- æ™ºèƒ½æ’åºå…¬å¼
- QueryCompletionService
- UsageSummaryService

**æ€§èƒ½æå‡**:
- æŸ¥è¯¢è€—æ—¶: 5-10ms (P95)
- æ’åºå‘½ä¸­ç‡: >70%

**è¿ç§»**: `0007_remarkable_silver_sable.sql`

### 2. ä½¿ç”¨æ•°æ®è®°å½•ä¸æ¸…ç† âœ…
**å®Œæˆæ—¶é—´**: 2025-11-20  
**æ ¸å¿ƒæˆæœ**:
- `usage_logs` è¡¨è®°å½•æ‰€æœ‰è¡Œä¸º
- è‡ªåŠ¨æ¸…ç†è¿‡æœŸæ—¥å¿— (30å¤©)
- å®šæœŸæ±‡æ€»åˆ° `item_usage_stats`
- å¼‚æ­¥å†™å…¥ä¸é˜»å¡æœç´¢

### 3. æ’ä»¶å­˜å‚¨æœºåˆ¶è°ƒç ” âœ…
**å®Œæˆæ—¶é—´**: 2025-11-20  
**æ ¸å¿ƒæˆæœ**:
- è°ƒç ” Raycast/uTools/HapiGo æ–¹æ¡ˆ
- ç¡®å®š JSON æ–‡ä»¶ + å¼‚æ­¥ API
- æ¯æ’ä»¶ 10MB é™åˆ¶
- StorageModule ç»Ÿä¸€ç®¡ç†

### 4. ä¸‹è½½ä¸­å¿ƒç³»ç»Ÿ âœ…
**å®Œæˆæ—¶é—´**: 2025-11-20  
**æ ¸å¿ƒåŠŸèƒ½**:
- åˆ‡ç‰‡ä¸‹è½½ + æ–­ç‚¹ç»­ä¼ 
- æ™ºèƒ½ä¼˜å…ˆçº§è°ƒåº¦ (P0-P10)
- ç½‘ç»œè‡ªé€‚åº”å¹¶å‘æ§åˆ¶ (1-10)
- SHA256 æ ¡éªŒ + é”™è¯¯é‡è¯•
- è¿›åº¦èŠ‚æµä¼˜åŒ–

**æ€§èƒ½ä¼˜åŒ–**:
- è™šæ‹Ÿæ»šåŠ¨ (>50é¡¹)
- æ•°æ®åº“ç´¢å¼•ä¼˜åŒ–
- ä»»åŠ¡ç¼“å­˜

**æ–‡ä»¶ä½ç½®**: `apps/core-app/src/main/modules/download/`

### 5. æ€§èƒ½ä¼˜åŒ–å®æ–½ âœ…
**å®Œæˆæ—¶é—´**: 2025-11-20  
**æ ¸å¿ƒæˆæœ**:
- æ•°æ®åº“ç´¢å¼•ä¼˜åŒ– (status/created/priority)
- è™šæ‹Ÿæ»šåŠ¨ç»„ä»¶ (VirtualTaskList.vue)
- æœç´¢é˜²æŠ– (300ms)
- è¿›åº¦æ›´æ–°èŠ‚æµ (1ç§’/ä»»åŠ¡)
- æ€§èƒ½ç›‘æ§å™¨ (PerformanceMonitor)

**æ€§èƒ½æå‡**:
- 500é¡¹åˆ—è¡¨æ¸²æŸ“: 200ms â†’ 20ms (10x)
- æœç´¢å“åº”: 150ms â†’ 30ms (5x)
- æ•°æ®åº“æŸ¥è¯¢: 50-100ms â†’ 5-10ms (5-10x)

### 6. æ›´æ–°æç¤ºUIå®ç° âœ…
**å®Œæˆæ—¶é—´**: 2025-11-20  
**æ ¸å¿ƒæˆæœ**:
- UpdatePromptDialog ç»„ä»¶
- æ”¯æŒ RELEASE/BETA/SNAPSHOT é¢‘é“
- è‡ªåŠ¨ä¸‹è½½ + å¿½ç•¥ç‰ˆæœ¬ + æ‰‹åŠ¨æ£€æŸ¥
- é›†æˆä¸‹è½½ä¸­å¿ƒæ˜¾ç¤ºè¿›åº¦

### 7. CoreBox Completion åˆ†æ âœ…
**å®Œæˆæ—¶é—´**: 2025-11-20  
**æ ¸å¿ƒæˆæœ**:
- è¯†åˆ«æ€§èƒ½ã€å‡†ç¡®æ€§ã€å®‰å…¨æ€§é—®é¢˜
- æå‡ºç¼“å­˜ã€æ™ºèƒ½æƒé‡ã€ä¸Šä¸‹æ–‡æ„ŸçŸ¥æ”¹è¿›
- XSS å®‰å…¨ä¿®å¤å»ºè®®

### 8. ç³»ç»Ÿæ€§æ¶æ„åˆ†æ âœ…
**å®Œæˆæ—¶é—´**: 2025-11-20  
**æ ¸å¿ƒæˆæœ**:
- è¯†åˆ«ä¼˜åŠ¿: æ¨¡å—åŒ–æ¶æ„ã€æ’ä»¶ç³»ç»Ÿã€IPC é€šé“ã€tfile:// åè®®
- è¯†åˆ«ä¸è¶³: æ’ä»¶åŠ è½½æ­»å¾ªç¯ã€æ—¥å¿—æ··ä¹±ã€æ‰˜ç›˜åŠŸèƒ½è–„å¼±
- æŠ€æœ¯å€ºåŠ¡æ¸…å•ä¸ä¼˜å…ˆçº§å»ºè®®
- å†…å®¹å·²æ•´åˆåˆ° `CLAUDE.md`

---

## ğŸ¯ åŠŸèƒ½ä¼˜å…ˆçº§å»ºè®®

### Q1 2026 (1-3æœˆ) - åŸºç¡€è®¾æ–½å®Œå–„

#### ğŸ”´ P0 ç´§æ€¥ (å¿…åš)

1. **æ¨¡å—æ—¥å¿—ç³»ç»Ÿ** (8-11 å¤©)
   - ç»Ÿä¸€ Logger æ¥å£
   - é…ç½®æŒä¹…åŒ–
   - UI é…ç½®ç•Œé¢
   - **æ”¶ç›Š**: æå‡å¯ç»´æŠ¤æ€§ + é—®é¢˜æ’æŸ¥æ•ˆç‡

2. **æ’ä»¶åŠ è½½é‡æ„** (å·²åŒ…å«åœ¨ View Mode å¢å¼ºä¸­)
   - ä¿®å¤æ­»å¾ªç¯é—®é¢˜
   - Dev æ¨¡å¼è‡ªå†™ manifest
   - Provider æ—¥å¿—è¡¥å…¨

#### ğŸŸ¡ P1 é‡è¦ (æ¨èåš)

3. **æ‰˜ç›˜ç³»ç»Ÿä¼˜åŒ–** (5-7 å¤©)
   - 9 ä¸ªèœå•é¡¹
   - åŠ¨æ€å¾½ç« 
   - macOS è§„èŒƒå›¾æ ‡
   - **æ”¶ç›Š**: æå‡ç”¨æˆ·ä½“éªŒ + å¿«é€Ÿè®¿é—®

4. **åºŸå¼ƒ extract-icon API** (1-2 å¤©)
   - è¿ç§»è‡³ `tfile://` åè®®
   - **æ”¶ç›Š**: æ€§èƒ½æå‡ 5-10x

5. **ç›´æ¥é¢„è§ˆè®¡ç®—** (14-20 å¤©)
   - ç®—å¼ + å•ä½ + æ±‡ç‡ + æ—¶é—´
   - **æ”¶ç›Š**: å‡å°‘åº”ç”¨åˆ‡æ¢ + æå‡æ•ˆç‡

### Q2 2026 (4-6æœˆ) - é«˜çº§åŠŸèƒ½

#### ğŸŸ¡ P1 é‡è¦

6. **View Mode å¢å¼º** (10-15 å¤©)
   - è¿œç¨‹ manifest
   - Dev Server å¥åº·æ¢æµ‹
   - åè®®é™åˆ¶

#### ğŸŸ¢ P2 å¢å¼º

7. **Flow Transfer** (15-20 å¤©)
   - æ’ä»¶é—´æ•°æ®æµè½¬
   - æˆæƒæœºåˆ¶
   - Session çŠ¶æ€è·Ÿè¸ª

8. **DivisionBox æ·±åŒ–** (10-15 å¤©)
   - Session ç”Ÿå‘½å‘¨æœŸ
   - keepAlive ç¼“å­˜

### Q3 2026 (7-9æœˆ) - ç”¨æˆ·ä½“éªŒä¼˜åŒ–

#### ğŸŸ¢ P2 å¢å¼º

9. **å¤šè§†å›¾å¹¶è¡Œ** (10-15 å¤©)
   - Tab/Split/Grid å¸ƒå±€
   - æ‹–æ‹½äº¤äº’

10. **AttachUIView ç¼“å­˜** (10-12 å¤©)
    - ä¸‰çº§ç¼“å­˜
    - LRU å›æ”¶

11. **æ™ºèƒ½æ¨èç³»ç»Ÿ** (15-22 å¤©)
    - æ—¶é—´ä¸Šä¸‹æ–‡
    - å‰ªè´´æ¿æ™ºèƒ½
    - å‰å°åº”ç”¨å…³è”

### Q4 2026 (10-12æœˆ) - å¹³å°åŒ–å‡çº§

#### ğŸ”µ P3 é•¿æœŸ

12. **å¹³å°èƒ½åŠ›ä½“ç³»** (20-30 å¤©)
    - PlatformCoreService
    - Capability Registry
    - æˆæƒç®¡ç†

13. **AI èƒ½åŠ›æ¥å£** (15-20 å¤©)
    - èƒ½åŠ›è·¯ç”±
    - å¤šæ¨¡å‹æ”¯æŒ
    - è§‚æµ‹ä¸è®¡è´¹

14. **æ—¥å†æ’ä»¶** (8-11 å¤©)
    - äº‹ä»¶ CRUD
    - æé†’ç³»ç»Ÿ
    - CoreBox é›†æˆ

---

## ğŸ“ˆ å·¥æœŸä¸èµ„æºä¼°ç®—

### æ€»å·¥æœŸç»Ÿè®¡

| ä¼˜å…ˆçº§ | ä»»åŠ¡æ•° | æ€»å·¥æœŸ | çŠ¶æ€ |
|--------|--------|--------|------|
| P0 ç´§æ€¥ | 1 | 8-11 å¤© | å¾…å¯åŠ¨ |
| P1 é‡è¦ | 4 | 40-63 å¤© | å¾…æ’æœŸ |
| P2 å¢å¼º | 5 | 70-99 å¤© | è§„åˆ’ä¸­ |
| P3 é•¿æœŸ | 3 | 43-61 å¤© | è§„åˆ’ä¸­ |
| **æ€»è®¡** | **13** | **161-234 å¤©** | - |

### äººåŠ›éœ€æ±‚ (å‡è®¾ 1 äººå…¨èŒ)

- **Q1 2026**: ~40 å·¥ä½œæ—¥ (P0 + P1 éƒ¨åˆ†)
- **Q2 2026**: ~45 å·¥ä½œæ—¥ (P1 + P2 éƒ¨åˆ†)
- **Q3 2026**: ~50 å·¥ä½œæ—¥ (P2 å®Œæˆ)
- **Q4 2026**: ~50 å·¥ä½œæ—¥ (P3 åˆæ­¥å®æ–½)

**æ€»è®¡**: ~185 å·¥ä½œæ—¥ (çº¦ 9 ä¸ªæœˆ)

### å»ºè®®é…ç½®

**æœ€å°å›¢é˜Ÿ** (1 å…¨æ ˆ + 1 å‰ç«¯):
- å…¨æ ˆå·¥ç¨‹å¸ˆ: åç«¯æ¨¡å— + æ¶æ„è®¾è®¡
- å‰ç«¯å·¥ç¨‹å¸ˆ: UI ç»„ä»¶ + ç”¨æˆ·ä½“éªŒ

**ç†æƒ³å›¢é˜Ÿ** (1 å…¨æ ˆ + 1 å‰ç«¯ + 1 æ¶æ„å¸ˆ):
- æ¶æ„å¸ˆ: å¹³å°èƒ½åŠ›ä½“ç³» + AI æ¥å£è®¾è®¡
- å…¨æ ˆå·¥ç¨‹å¸ˆ: æ’ä»¶ç³»ç»Ÿ + æœç´¢å¼•æ“
- å‰ç«¯å·¥ç¨‹å¸ˆ: CoreBox + è§†å›¾ç³»ç»Ÿ

**åŠ é€Ÿæ–¹æ¡ˆ**: 2 å…¨æ ˆ + 1 å‰ç«¯ â†’ 4-5 ä¸ªæœˆå®Œæˆæ ¸å¿ƒåŠŸèƒ½

---

## ğŸ” ä»£ç è´¨é‡è¯„ä¼°

### ä¼˜åŠ¿

1. **âœ… æ¶æ„æ¸…æ™°**
   - æ˜ç¡®çš„å‰åç«¯åˆ†ç¦»
   - Monorepo ç®¡ç†è‰¯å¥½
   - æ¨¡å—åŒ–è®¾è®¡åˆç†

2. **âœ… ç±»å‹å®‰å…¨**
   - å…¨é¢ TypeScript è¦†ç›–
   - utils åŒ…æä¾›ç»Ÿä¸€ç±»å‹
   - è‰¯å¥½çš„æ¥å£å®šä¹‰

3. **âœ… æ€§èƒ½ä¼˜åŒ–åˆ°ä½**
   - è™šæ‹Ÿæ»šåŠ¨
   - æ•°æ®åº“ç´¢å¼•
   - æ‰¹é‡æŸ¥è¯¢ä¼˜åŒ–
   - é˜²æŠ–èŠ‚æµ

4. **âœ… æ–‡æ¡£å®Œå–„**
   - 23 ä¸ªæ´»è·ƒ PRD
   - API æ–‡æ¡£é½å…¨
   - ä»£ç æ³¨é‡Šå……åˆ†

### å¾…æ”¹è¿›

1. **âš ï¸ å•æ–‡ä»¶è¿‡å¤§**
   - `plugin-module.ts`: 2,082 è¡Œ â†’ å»ºè®®æ‹†åˆ†
   - `search-core.ts`: 929 è¡Œ â†’ å¯è¿›ä¸€æ­¥æ¨¡å—åŒ–

2. **âš ï¸ æ—¥å¿—ç³»ç»Ÿæ··ä¹±**
   - ç¼ºä¹ç»Ÿä¸€ Logger
   - æ—¥å¿—çº§åˆ«æ§åˆ¶ä¸è¶³
   - ç”Ÿäº§ç¯å¢ƒé£é™©

3. **âš ï¸ æµ‹è¯•è¦†ç›–ä¸è¶³**
   - æœªå‘ç°å•å…ƒæµ‹è¯•
   - ç¼ºå°‘é›†æˆæµ‹è¯•
   - å»ºè®®è¡¥å……æµ‹è¯•

4. **âš ï¸ é”™è¯¯å¤„ç†ç»Ÿä¸€æ€§**
   - éƒ¨åˆ†æ¨¡å—é”™è¯¯å¤„ç†ä¸å¤Ÿå¥å£®
   - å»ºè®®ç»Ÿä¸€é”™è¯¯å¤„ç†ç­–ç•¥

---

## ğŸ’¡ å…³é”®å»ºè®®

### çŸ­æœŸ (Q1 2026)

1. **ğŸ”´ ä¼˜å…ˆå®æ–½æ¨¡å—æ—¥å¿—ç³»ç»Ÿ**
   - **åŸå› **: å½±å“æ‰€æœ‰æ¨¡å—çš„å¯ç»´æŠ¤æ€§
   - **æ”¶ç›Š**: é—®é¢˜æ’æŸ¥æ•ˆç‡æå‡ 10x
   - **é£é™©**: å»¶è¿Ÿä¼šå¯¼è‡´æŠ€æœ¯å€ºç´¯ç§¯

2. **ğŸ”´ ä¿®å¤æ’ä»¶åŠ è½½æ­»å¾ªç¯**
   - **åŸå› **: å½±å“å¼€å‘ä½“éªŒå’Œç¨³å®šæ€§
   - **æ”¶ç›Š**: å¼€å‘æ•ˆç‡æå‡ + åº”ç”¨ç¨³å®šæ€§
   - **é£é™©**: ä¸ä¿®å¤å¯èƒ½å¯¼è‡´æ›´å¤š bug

3. **ğŸŸ¡ å¿«é€Ÿå®Œæˆæ‰˜ç›˜ä¼˜åŒ–**
   - **åŸå› **: å·¥æœŸçŸ­ (5-7 å¤©) ä½†æ”¶ç›Šæ˜æ˜¾
   - **æ”¶ç›Š**: ç”¨æˆ·ä½“éªŒæ˜¾è‘—æå‡
   - **å»ºè®®**: ä½œä¸ºå¿«é€Ÿèƒœåˆ©é¡¹ç›®

4. **ğŸŸ¡ è¿ç§» extract-icon API**
   - **åŸå› **: å·¥æœŸæçŸ­ (1-2 å¤©) æ€§èƒ½æå‡å¤§
   - **æ”¶ç›Š**: æ€§èƒ½æå‡ 5-10x
   - **å»ºè®®**: å¯ä¸å…¶ä»–ä»»åŠ¡å¹¶è¡Œ

### ä¸­æœŸ (Q2-Q3 2026)

5. **å®æ–½ç›´æ¥é¢„è§ˆè®¡ç®—**
   - **åŸå› **: å·®å¼‚åŒ–åŠŸèƒ½,ç”¨æˆ·ä»·å€¼é«˜
   - **æ”¶ç›Š**: å‡å°‘åº”ç”¨åˆ‡æ¢,æå‡æ•ˆç‡
   - **å»ºè®®**: åˆ†é˜¶æ®µå®æ–½ (ç®—å¼ â†’ å•ä½ â†’ æ±‡ç‡)

6. **æ¨è¿›è§†å›¾ç³»ç»Ÿå¢å¼º**
   - **é¡ºåº**: View Mode â†’ DivisionBox â†’ MultiView â†’ Cache
   - **åŸå› **: å‰è€…æ˜¯åè€…çš„åŸºç¡€
   - **æ”¶ç›Š**: æ’ä»¶èƒ½åŠ›å¤§å¹…æå‡

7. **å®Œå–„æ¨èç³»ç»Ÿ**
   - **åŸå› **: AI é©±åŠ¨çš„æ ¸å¿ƒç«äº‰åŠ›
   - **æ”¶ç›Š**: å‡å°‘ç”¨æˆ·è¾“å…¥,æ™ºèƒ½åŒ–ä½“éªŒ
   - **å»ºè®®**: åŸºäºç”¨æˆ·åé¦ˆè¿­ä»£

### é•¿æœŸ (Q4 2026+)

8. **æ„å»ºå¹³å°èƒ½åŠ›ä½“ç³»**
   - **åŸå› **: ä»"æ’ä»¶é›†åˆ"è¿›åŒ–ä¸º"åº”ç”¨å¹³å°"
   - **æ”¶ç›Š**: ç”Ÿæ€æ‰©å±• + å¼€å‘è€…ä½“éªŒ
   - **å»ºè®®**: ä¸ AI æ¥å£è”åˆè®¾è®¡

9. **å®Œå–„æµ‹è¯•ä½“ç³»**
   - **å»ºè®®**: å¢åŠ å•å…ƒæµ‹è¯• + E2E æµ‹è¯•
   - **ç›®æ ‡**: æ ¸å¿ƒæ¨¡å—è¦†ç›–ç‡ >80%
   - **æ”¶ç›Š**: é‡æ„ä¿¡å¿ƒ + å›å½’æµ‹è¯•

10. **æ€§èƒ½ç›‘æ§ä¸å‘Šè­¦**
    - **å»ºè®®**: æ¥å…¥ Sentry + æ€§èƒ½åˆ†æ
    - **ç›®æ ‡**: å®æ—¶ç›‘æ§å…³é”®æŒ‡æ ‡
    - **æ”¶ç›Š**: å¿«é€Ÿå‘ç°å’Œå®šä½é—®é¢˜

---

## ğŸ“š å‚è€ƒæ–‡æ¡£ç´¢å¼•

### PRD æ–‡æ¡£ (23 ä¸ªæ´»è·ƒ)

#### é¡¹ç›®çº§ (4 ä¸ª)
- `plan-prd/01-project/PROJECT_ANALYSIS.md` âŒ (å·²åˆ é™¤,å†…å®¹æ•´åˆåˆ° CLAUDE.md)
- `plan-prd/01-project/CHANGES.md`
- `plan-prd/01-project/CALENDAR-PRD.md`
- `plan-prd/01-project/DESIGN_IMPROVEMENTS.md`

#### æ¶æ„è®¾è®¡ (3 ä¸ª)
- `plan-prd/02-architecture/platform-capabilities-prd.md`
- `plan-prd/02-architecture/ai-power-generic-api-prd.md`
- `plan-prd/02-architecture/module-logging-system-prd.md`

#### åŠŸèƒ½ PRD (16 ä¸ª)

**æœç´¢åŠŸèƒ½** (å·²å®Œæˆ âœ…):
- ~~`plan-prd/03-features/search/TUFF_USAGE_TRACKING_PRD.md`~~ (å·²å½’æ¡£)
- ~~`plan-prd/03-features/search/USAGE_LOGGING_PLAN.md`~~ (å·²å½’æ¡£)
- ~~`plan-prd/03-features/search/search-optimization-implementation-summary.md`~~ (å·²å½’æ¡£)
- ~~`plan-prd/03-features/search/search-source-id-ranking-plan.md`~~ (å·²å½’æ¡£)
- ~~`plan-prd/03-features/search/search-usage-data-cleanup-plan.md`~~ (å·²å½’æ¡£)
- `plan-prd/03-features/search/intelligent-recommendation-system-prd.md` (P2 æœªå®ç°)

**ä¸‹è½½æ›´æ–°** (éƒ¨åˆ†å®Œæˆ):
- ~~`plan-prd/03-features/download-update/DOWNLOAD_CENTER_API.md`~~ (å·²å®Œæˆ âœ…)
- ~~`plan-prd/03-features/download-update/MIGRATION_GUIDE.md`~~ (å·²å®Œæˆ âœ…)
- ~~`plan-prd/03-features/download-update/UPDATE_SYSTEM.md`~~ (å·²å®Œæˆ âœ…)

**è§†å›¾åŠŸèƒ½** (æœªå®ç°):
- `plan-prd/03-features/view/view-mode-prd.md` (P1)
- `plan-prd/03-features/view/multi-attach-view-prd.md` (P2)
- `plan-prd/03-features/view/attach-view-cache-prd.md` (P2)

**æ’ä»¶ç³»ç»Ÿ**:
- ~~`plan-prd/03-features/plugin/plugin-loading-refactor.md`~~ (å·²åŒ…å«åœ¨ view-mode-prd.md)
- ~~`plan-prd/03-features/plugin/plugin-storage-research.md`~~ (å·²å®Œæˆ âœ…)

**æ„å»ºç³»ç»Ÿ**:
- `plan-prd/03-features/build/build-integrity-verification-prd.md`
- `plan-prd/03-features/build/build-signature-system-prd.md`

**å…¶ä»–åŠŸèƒ½**:
- `plan-prd/03-features/division-box-prd.md` (P2)
- `plan-prd/03-features/flow-transfer-prd.md` (P2)

#### å®ç°ç»†èŠ‚ (æ€§èƒ½ä¼˜åŒ–)
- `plan-prd/04-implementation/performance/direct-preview-calculation-prd.md` (P1)
- ~~`plan-prd/04-implementation/performance/PERFORMANCE_OPTIMIZATIONS.md`~~ (å·²å®Œæˆ âœ…)
- ~~`plan-prd/04-implementation/performance/PERFORMANCE_QUICK_REFERENCE.md`~~ (å·²å®Œæˆ âœ…)
- ~~`plan-prd/04-implementation/performance/PROGRESS_TRACKER_USAGE.md`~~ (å·²å®Œæˆ âœ…)

### å¯¼èˆªæ–‡æ¡£
- `plan-prd/PROJECT_DOCS_INDEX.md`: è¯¦ç»†æ–‡æ¡£ç´¢å¼•
- `plan-prd/README.md`: ä¸»ç´¢å¼•
- `plan-prd/TODO.md`: å¾…åŠäº‹é¡¹æ¸…å•
- `plan-prd/MIGRATION_SUMMARY.md`: æ–‡æ¡£è¿ç§»æ€»ç»“

---

## ğŸ‰ æ€»ç»“

### é¡¹ç›®å¥åº·åº¦: â­â­â­â­ (4/5)

**ä¼˜åŠ¿**:
- âœ… æ ¸å¿ƒåŠŸèƒ½å®Œå¤‡ (~50%)
- âœ… æ¶æ„è®¾è®¡åˆç†
- âœ… æ–‡æ¡£ä½“ç³»å®Œå–„
- âœ… æ€§èƒ½ä¼˜åŒ–åˆ°ä½

**åŠ£åŠ¿**:
- âš ï¸ æ—¥å¿—ç³»ç»Ÿæ··ä¹± (P0)
- âš ï¸ æ’ä»¶ç³»ç»Ÿæœ‰éšæ‚£ (P0)
- âš ï¸ é«˜çº§åŠŸèƒ½æœªå®ç° (P2-P3)
- âš ï¸ æµ‹è¯•è¦†ç›–ä¸è¶³

### ä¸‹ä¸€æ­¥è¡ŒåŠ¨

**ç«‹å³è¡ŒåŠ¨** (æœ¬å‘¨):
1. ç¡®è®¤ P0 ä»»åŠ¡ä¼˜å…ˆçº§
2. å®‰æ’æ¨¡å—æ—¥å¿—ç³»ç»Ÿå®æ–½
3. è¯„ä¼°äººåŠ›èµ„æºéœ€æ±‚

**è¿‘æœŸè§„åˆ’** (æœ¬æœˆ):
4. ä¿®å¤æ’ä»¶åŠ è½½é—®é¢˜
5. å®Œæˆæ‰˜ç›˜ä¼˜åŒ–
6. è¿ç§» extract-icon API

**å­£åº¦ç›®æ ‡** (Q1 2026):
7. å®Œæˆæ‰€æœ‰ P0 å’Œéƒ¨åˆ† P1 ä»»åŠ¡
8. å¯åŠ¨ç›´æ¥é¢„è§ˆè®¡ç®—å¼€å‘
9. è§„åˆ’ Q2 åŠŸèƒ½è·¯çº¿

---

**æ–‡æ¡£ç»´æŠ¤**: è¯·å®šæœŸæ›´æ–°æœ¬æ–‡æ¡£ (å»ºè®®æ¯æœˆä¸€æ¬¡)  
**é—®é¢˜åé¦ˆ**: é€šè¿‡ GitHub Issues æäº¤  
**æ–‡æ¡£ç‰ˆæœ¬**: v1.0  
**æœ€åæ›´æ–°**: 2025-11-23
