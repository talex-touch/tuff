"id","priority","phase","area","title","description","acceptance_criteria","test_mcp","review_initial_requirements","review_regression_requirements","dev_state","review_initial_state","review_regression_state","git_state","owner","refs","notes"
"UPD-010","P0","1","both","统一更新源与渠道口径","统一更新源到 GitHub Releases（talex-touch/tuff），明确 Release/Beta/Snapshot 映射与 tag 前缀规则。","UpdateService/UpdateSystem/GithubUpdateProvider 使用同一仓库与渠道映射；更新检查日志能输出一致的 source/channel 且至少一次手动检查通过。","AUTOE2E","核对仓库名、渠道映射、tag 前缀规则与设置项一致；避免保留双更新源。","切换渠道后检查结果一致；旧版本仍可正常检查更新且不报错。","已完成","已完成","已完成","已提交","","plan/2026-02-01_00-20-40-github-actions-split-update.md:16;apps/core-app/src/main/modules/update/UpdateService.ts:86;apps/core-app/src/main/modules/update/update-system.ts:77;apps/core-app/src/renderer/src/modules/update/GithubUpdateProvider.ts:19;packages/utils/types/update.ts:130;apps/core-app/src/renderer/src/modules/update/UpdateProvider.ts:101","picked_reason:优先处理P0且Phase1的基础规范;context_over_budget:初始排查涉及主进程/渲染/共享utils与provider多处定位;tests:pnpm -C \"packages/utils\" test;evidence:utils update tag helpers单测通过;validation_limited:未运行应用内手动更新检查;manual_test:pnpm core:dev 后进入设置-更新执行手动检查并观察日志source/channel一致;risk:medium 未验证渠道切换与旧版本更新检查;done_at:2026-02-01"
"UPD-020","P0","2","both","定义资产命名与 Manifest 规范","定义 core/renderer/extensions 资产命名、sha256/签名要求与 manifest 字段，明确兼容策略。","规范文档落地并包含至少 2 个平台样例；UpdateSystem 与 GithubUpdateProvider 能按规则解析资产（含 sha256）。","AUTOSERVER","命名规则不依赖隐式文件名；包含平台/架构/校验/签名说明。","用样例资产验证解析与校验流程可复现；不影响已有版本。","已完成","已完成","已完成","已提交","","plan/2026-02-01_00-20-40-github-actions-split-update.md:17;apps/core-app/src/main/modules/update/update-system.ts:432;apps/core-app/src/renderer/src/modules/update/GithubUpdateProvider.ts:202;packages/utils/types/update.ts:203;docs/plan-prd/03-features/download-update/github-release-asset-spec.md:1","picked_reason:继续处理P0任务并推进更新资产规范;tests:pnpm -C \"packages/utils\" test;evidence:更新资产规范文档与manifest解析逻辑完成;validation_limited:未实际运行更新检查与下载链路;manual_test:准备包含tuff-release-manifest.json的Release后执行设置-更新的手动检查并确认assets含sha256;risk:medium 未验证真实Release解析与校验流程;done_at:2026-02-01"
"UPD-030","P0","3","backend","搭建 GitHub Actions 三条发布流","为 core/renderer/extensions 分别新增发布工作流，定义触发条件、构建矩阵与产物清单。","工作流文件齐备且可通过 GitHub Actions 校验；任一手动触发可生成预期产物并上传至对应 Release。","AUTOSERVER","核对触发条件、权限与产物命名；避免覆盖同名 Release。","重复触发不会污染其他渠道 Release；失败流程有清晰日志与告警。","已完成","已完成","已完成","已提交","","plan/2026-02-01_00-20-40-github-actions-split-update.md:18;.github/workflows/release-core.yml:1;.github/workflows/release-renderer.yml:1;.github/workflows/release-extensions.yml:1;.github/workflows/README.md:10","picked_reason:继续处理P0并完善发布工作流;validation_limited:未在GitHub Actions执行工作流;manual_test:在Actions中手动触发release-core/release-renderer/release-extensions并确认Release产物与manifest;risk:medium 未验证真实CI构建与Release上传;done_at:2026-02-01"
"UPD-040","P0","4","backend","发布配置对齐到 GitHub Provider","将 electron-builder 与 dev-app-update 配置对齐到 GitHub Releases。","electron-builder.yml 使用 github provider；dev-app-update.yml 指向同仓库与渠道；运行时不再依赖 generic URL。","AUTOSERVER","核对 owner/repo、channel 与 tag 前缀一致；避免遗漏 dev 配置。","打包后更新检查能读取正确的 update manifest；不影响本地开发启动。","已完成","已完成","已完成","已提交","","plan/2026-02-01_00-20-40-github-actions-split-update.md:19;apps/core-app/electron-builder.yml:128;apps/core-app/dev-app-update.yml:1","picked_reason:继续处理P0并对齐发布配置;evidence:发布配置切换到GitHub provider并补齐dev渠道;validation_limited:未执行打包与更新检查;manual_test:运行core打包后触发更新检查确认读取GitHub Release;risk:medium 未验证electron-updater GitHub provider行为;done_at:2026-02-01"
"UPD-050","P1","5","both","收敛 UpdateService 更新入口","统一更新检查/下载路径由 UpdateService 编排，避免多入口重复触发。","SettingUpdate 不再直连 DownloadCenter；UpdateService 统一触发下载/安装且无重复任务；状态可被前端消费。","AUTOE2E","检查 UpdateEvents 兼容性与主进程日志；避免重复下载与安装冲突。","完整链路检查-下载-安装触发可复现；失败路径提示清晰。","已完成","已完成","已完成","已提交","","plan/2026-02-01_00-20-40-github-actions-split-update.md:20;apps/core-app/src/main/modules/update/UpdateService.ts:86;apps/core-app/src/renderer/src/modules/hooks/useUpdate.ts:187;apps/core-app/src/renderer/src/views/base/settings/SettingUpdate.vue:259","picked_reason:推进P1并收敛更新入口;evidence:更新下载改为UpdateService入口且设置页不再直连DownloadCenter;validation_limited:未执行端到端更新下载/安装链路;manual_test:启动应用后在设置-更新点击下载并确认下载中心仅出现单一任务;risk:medium 未验证真实更新下载与安装流程;done_at:2026-02-01"
"UPD-060","P1","6","both","渲染层与扩展包更新整合","实现 renderer override 加载、extensions 更新安装流程，并调整设置页频率口径。","renderer-manifest 支持 coreRange 校验；override 资源可回退；extensions 更新可下载并安装；设置页频率口径与主进程一致。","AUTOE2E","确保 override 不影响主进程启动；插件更新具备校验与回滚策略。","模拟不兼容版本与下载失败时可回退；UI 状态与主进程一致。","已完成","已完成","已完成","已提交","","plan/2026-02-01_00-20-40-github-actions-split-update.md:21;apps/core-app/src/main/core/touch-app.ts:118;apps/core-app/src/main/modules/update/update-system.ts:306;apps/core-app/src/main/modules/update/UpdateService.ts:141;apps/core-app/src/renderer/src/modules/update/GithubUpdateProvider.ts:252;apps/core-app/src/renderer/src/types/update-signature.d.ts:8","picked_reason:优先收敛进行中任务并完成闭环;tests:pnpm -C \"apps/core-app\" run typecheck:node;evidence:UpdateSystem 支持 renderer override/extension 下载安装并在启动阶段回退;validation_limited:未运行应用内更新检查与 renderer/extension 下载回滚实测;manual_test:发布含 tuff-renderer/tuff-extensions 与 manifest 的 Release 后，在设置-更新点击下载并验证 renderer override 生效、插件目录更新与 coreRange 不兼容时回退;risk:medium 未实测真实 Release 下载/回滚链路;done_at:2026-02-01"
"UPD-070","P1","7","both","跨平台测试与回归清单","补充更新链路测试与回归清单，覆盖渠道切换、断网、限频、校验失败等场景。","回归清单覆盖 win/mac/linux 且包含 4 类场景；至少 1 组自动化或脚本测试可重复执行。","AUTOE2E","覆盖缓存/限频/失败提示等边界；不依赖真实发布服务器。","执行清单无阻塞问题；失败路径日志与提示可追踪。","已完成","已完成","已完成","已提交","","plan/2026-02-01_00-20-40-github-actions-split-update.md:22;docs/plan-prd/03-features/download-update/update-regression-checklist.md:1;scripts/update-validate-release-manifest.mjs:1;docs/plan-prd/03-features/download-update/fixtures/tuff-release-manifest.sample.json:1","picked_reason:优先补齐P1回归清单以支撑后续验证;tests:node scripts/update-validate-release-manifest.mjs --manifest docs/plan-prd/03-features/download-update/fixtures/tuff-release-manifest.sample.json;evidence:更新回归清单文档与manifest校验脚本已落地;done_at:2026-02-01"
"UPD-080","P2","8","both","预发布验证与上线检查","以 pre-release tag 验证全链路，并产出上线检查与回滚策略。","pre-release 完成检查-下载-安装/应用；回滚策略明确（禁用 renderer/extension 或回退 core-only）；上线检查项可逐条确认。","AUTOE2E","记录关键指标与观察窗口；明确紧急回退流程。","回滚后应用可正常启动且更新入口可用。","未开始","未开始","未开始","未提交","","plan/2026-02-01_00-20-40-github-actions-split-update.md:23",""
