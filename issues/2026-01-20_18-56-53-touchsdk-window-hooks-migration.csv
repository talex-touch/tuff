"id","priority","phase","area","title","description","acceptance_criteria","test_mcp","review_initial_requirements","review_regression_requirements","dev_state","review_initial_state","review_regression_state","git_state","owner","refs","notes"
"TSDK-010","P1","1","both","盘点 window 全局依赖使用点","扫描 plugin SDK 与示例中 window.$* 访问，形成清单并标注迁移状态。","在计划文档追加清单或新建审计文档，列出 $touchSDK/$channel/$plugin/$boxItems/$crash/$config 的文件:行号并标记已迁移/未迁移。","AUTOFRONTEND","使用 rg/Serena 确保覆盖 examples 与 sdk/examples；清单含文件:行号。","复查清单与实际代码一致，新增 hook 后无遗漏 window 全局访问。","未开始","未开始","未开始","未提交","","plan/2026-01-20_18-50-26-touchsdk-window-hooks-migration.md:16;packages/utils/plugin/preload.ts:26",""
"TSDK-020","P1","2","both","对齐 plugin SDK hooks 风格","对齐现有 use* hook 的命名、错误信息与返回类型风格，形成规范。","补充规范记录（在计划文档或审计文档中），并以 useChannel/useFeature/useNotificationSdk 作为基准样例。","AUTOFRONTEND","比对至少 3 个 hook 的错误信息与返回类型；避免引入破坏性命名变更。","新增 hook 与既有 hook 行为一致，导出路径不变。","未开始","未开始","未开始","未提交","","plan/2026-01-20_18-50-26-touchsdk-window-hooks-migration.md:17;packages/utils/plugin/sdk/channel.ts:31;packages/utils/plugin/sdk/feature-sdk.ts:301",""
"TSDK-030","P0","3","both","补齐 hooks 并替换 window 直取","新增缺失 hooks 并在 SDK/示例中替换 window.$* 访问，保持 API 行为一致。","rg touchSDK/$plugin/$boxItems/$crash/$config 不再出现在业务调用（仅允许类型/声明/白名单）；新增 hook 已在 sdk/index.ts 导出。","AUTOFRONTEND","确认 hook 抛错信息与原行为兼容；避免使用可选链赋值。","core:dev 启动无 TouchSDK/Channel 相关运行时报错。","已完成","已完成","已完成","已提交","","plan/2026-01-20_18-50-26-touchsdk-window-hooks-migration.md:18;packages/utils/plugin/sdk/index.ts:1;packages/utils/plugin/sdk/plugin-info.ts:1;packages/utils/plugin/sdk/box-items.ts:1;packages/utils/plugin/sdk/feature-sdk.ts:301","picked_reason:P0 and enables other hook migrations;done_at:2026-01-20;validation_limited:repo lint/typecheck/tests failing;manual_test:pnpm core:dev;evidence:rg window as any only in touch-sdk/plugin-info/box-items;rg $plugin/$boxItems only in hooks;risk:low window access centralized;commit:17fa11ec"
"TSDK-040","P1","4","both","补充初始化时序 guard/lazy","为 hook 使用时序加入轻量 guard 或 lazy getter，确保仅在 plugin renderer context 下执行。","在非 plugin renderer 环境调用 hooks 时输出清晰错误信息；不会触发 esbuild 报错。","AUTOFRONTEND","检查 guard 覆盖所有新 hook；错误信息含调用上下文提示。","plugin renderer 场景不受影响，功能调用正常。","未开始","未开始","未开始","未提交","","plan/2026-01-20_18-50-26-touchsdk-window-hooks-migration.md:19;packages/utils/plugin/sdk/hooks/life-cycle.ts:18",""
"TSDK-050","P2","5","frontend","更新示例为 hooks 用法","将 examples 与 sdk/examples 迁移为 hooks 访问，避免继续 window.$ 直取。","examples/*.js 与 packages/utils/plugin/sdk/examples/* 中不再出现 window.$touchSDK 访问（rg touchSDK 仅保留在文档/类型声明）。","AUTOFRONTEND","核对示例运行指引与代码一致；避免更改示例语义。","示例代码可运行或可编译（不引入语法错误）。","未开始","未开始","未开始","未提交","","plan/2026-01-20_18-50-26-touchsdk-window-hooks-migration.md:20;examples/basic-usage.js:7;packages/utils/plugin/sdk/examples/storage-onDidChange-example.js:10",""
"TSDK-060","P1","6","frontend","验证 core:dev 运行","运行 core:dev 验证 plugin renderer 与 hooks 注入链路，无 TouchSDK 相关报错。","pnpm core:dev 启动成功，控制台无 TouchSDK/Channel 未注入报错；记录验证结果。","AUTOE2E","启动日志截图或记录在 notes/PR 描述。","重复启动验证稳定，未引入新的构建错误。","未开始","未开始","未开始","未提交","","plan/2026-01-20_18-50-26-touchsdk-window-hooks-migration.md:21",""
"﻿","","","","","","","","","","","","","","","",""
"﻿","","","","","","","","","","","","","","","",""
"﻿","","","","","","","","","","","","","","","",""
"﻿","","","","","","","","","","","","","","","",""
﻿