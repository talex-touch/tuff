"id","priority","phase","area","title","description","acceptance_criteria","test_mcp","review_initial_requirements","review_regression_requirements","dev_state","review_initial_state","review_regression_state","git_state","owner","refs","notes"
"BMLA-010","P1","1","backend","追踪 SearchLogger 触发链路","从 SearchLogger 构造到 subscribeMainConfig/useMainStorage 的调用关系，定位异常抛出点与时机。","明确指出触发 StorageModule not ready 的调用路径与时机，并记录到计划输出或 notes。","AUTOSERVER","覆盖构造、订阅、useMainStorage 抛错链路，结论有代码定位。","与启动日志时序一致，能解释 import 副作用触发。","已完成","已完成","已完成","已提交","","apps/core-app/src/main/modules/box-tool/search-engine/search-logger.ts:32;apps/core-app/src/main/modules/storage/index.ts:803;docs/search-logger-lifecycle-analysis.md:8","picked_reason:优先完成链路定位以解锁后续修复方案;done_at:2026-01-21;validation_limited:docs-only update;manual_test:review doc content;evidence:docs/search-logger-lifecycle-analysis.md updated;risk:low"
"BMLA-020","P1","2","backend","复盘模块加载与导入顺序","核对 modulesToLoad 与 import 顺序，确认 SearchLogger 在 StorageModule init 前被实例化的路径。","输出模块加载顺序与触发路径，能明确说明 coreBoxModule 导入导致的初始化时机。","AUTOSERVER","核查 moduleManager.loadModule 调用时序与 coreBoxModule import 副作用。","结论需覆盖 storageModule 加载点及其前后的关键模块。","已完成","已完成","已完成","已提交","","apps/core-app/src/main/index.ts:15;apps/core-app/src/main/index.ts:127;apps/core-app/src/main/index.ts:176;apps/core-app/src/main/index.ts:145;docs/search-logger-lifecycle-analysis.md:17","picked_reason:按顺序推进 P1 任务;done_at:2026-01-21;validation_limited:docs-only update;manual_test:review doc content;evidence:docs/search-logger-lifecycle-analysis.md updated;risk:low"
"BMLA-030","P1","3","backend","归纳配置订阅的正确时机模式","对照 Sentry/DeviceIdle/主入口订阅配置的时机，总结 Storage ready 后订阅模式。","至少列出 3 处参考并归纳一致的时序规则，可直接用于 SearchLogger 修复方案。","AUTOSERVER","确认参考点均在 storage ready 之后或有防护。","规则可复用且不引入新的依赖顺序风险。","未开始","未开始","未开始","未提交","","apps/core-app/src/main/modules/sentry/sentry-service.ts:221;apps/core-app/src/main/service/device-idle-service.ts:284;apps/core-app/src/main/index.ts:203",""
"BMLA-040","P1","4","backend","选择修复策略与初始化位置","比较显式 init、模块托管、惰性订阅方案，确定最小改动与兼容策略。","给出推荐方案与影响评估（API 变更、初始化时机、迁移成本）。","AUTOSERVER","评估对现有 import 使用方式的影响，确认有平滑迁移或兼容方案。","明确对启动日志与搜索日志可用性的影响与补救。","未开始","未开始","未开始","未提交","","apps/core-app/src/main/modules/box-tool/search-engine/search-logger.ts:55;apps/core-app/src/main/modules/box-tool/core-box/manager.ts:31;apps/core-app/src/main/modules/box-tool/core-box/index.ts:22",""
"BMLA-050","P1","5","backend","明确依赖与清理点","定义 SearchLogger 与 CoreBoxManager/SearchEngineCore 的依赖边界，确定订阅解绑时机。","明确 destroy/cleanup 调用点，订阅在模块卸载或退出时被释放。","AUTOSERVER","检查 destroy 路径覆盖模块卸载与应用退出，避免重复解绑。","重复 init/destroy 不产生残留监听或泄漏。","未开始","未开始","未开始","未提交","","apps/core-app/src/main/modules/box-tool/search-engine/search-logger.ts:66;apps/core-app/src/main/modules/box-tool/core-box/index.ts:122;apps/core-app/src/main/modules/box-tool/core-box/manager.ts:31",""
"BMLA-060","P1","6","backend","启动验证与回归清单","补充 search-logger 测试或启动验证脚本，验证无启动期报错、订阅正常、关闭时清理。","启动不再出现 StorageModule not ready；测试或脚本覆盖订阅与 destroy 行为。","AUTOE2E","覆盖启动阶段与关闭阶段的日志断言与清理验证。","至少在 dev 启动与打包启动路径各验证一次。","未开始","未开始","未开始","未提交","","apps/core-app/src/main/modules/box-tool/search-engine/search-logger-test.ts:7;apps/core-app/src/main/modules/box-tool/search-engine/search-logger.ts:66",""
