---
title: "Form 表单"
description: "提供表单容器与校验能力，配合 `TxFormItem` 统一布局与提示。"
category: Form
---
# Form 表单

提供表单容器与校验能力，配合 `TxFormItem` 统一布局与提示。

<script setup lang="ts">
import { reactive, ref } from 'vue'

const form = reactive({
  name: '',
  email: '',
})

const rules = {
  name: { required: true, message: '请输入名称' },
  email: {
    validator: (value: string) => {
      if (!value)
        return '请输入邮箱'
      return value.includes('@') || '邮箱格式错误'
    },
  },
}

const formRef = ref()
const message = ref('')

async function handleValidate() {
  const ok = await formRef.value?.validate()
  message.value = ok ? '表单校验通过' : '请检查表单'
}

function handleReset() {
  formRef.value?.resetFields()
  message.value = ''
}
</script>

## 基础用法

<ClientOnly>
<div class="group" style="max-width: 420px;">
  <TxForm ref="formRef" :model="form" :rules="rules" label-width="90px">
    <TxFormItem label="名称" prop="name">
      <TuffInput v-model="form.name" placeholder="请输入名称" />
    </TxFormItem>
    <TxFormItem label="邮箱" prop="email">
      <TuffInput v-model="form.email" placeholder="name@example.com" />
    </TxFormItem>
    <div style="display: flex; gap: 8px;">
      <TxButton variant="primary" @click="handleValidate">校验</TxButton>
      <TxButton @click="handleReset">重置</TxButton>
    </div>
    <div style="font-size: 12px; color: var(--tx-text-color-secondary, #909399);">
      {{ message }}
    </div>
  </TxForm>
</div>
</ClientOnly>

::: details Show Code
```vue
<script setup lang="ts">
import { reactive, ref } from 'vue'

const form = reactive({ name: '', email: '' })
const rules = { name: { required: true, message: '请输入名称' } }
const formRef = ref()

async function handleValidate() {
  await formRef.value?.validate()
}
</script>

<template>
  <TxForm ref="formRef" :model="form" :rules="rules" label-width="90px">
    <TxFormItem label="名称" prop="name">
      <TuffInput v-model="form.name" placeholder="请输入名称" />
    </TxFormItem>
    <TxFormItem label="邮箱" prop="email">
      <TuffInput v-model="form.email" placeholder="name@example.com" />
    </TxFormItem>
  </TxForm>
</template>
```
:::

## API

### TxForm Props

| 属性名 | 类型 | 默认值 | 说明 |
|------|------|------|------|
| `model` | `Record<string, any>` | - | 表单数据 |
| `rules` | `FormRules` | - | 校验规则 |
| `labelPosition` | `'left' \| 'right' \| 'top'` | `'left'` | 标签位置 |
| `labelWidth` | `string \| number` | - | 标签宽度 |
| `size` | `'small' \| 'medium' \| 'large'` | `'medium'` | 表单尺寸 |
| `disabled` | `boolean` | `false` | 禁用表单 |

### TxForm Events

| 事件名 | 参数 | 说明 |
|------|------|------|
| `validate` | `(valid: boolean)` | 表单校验结果 |

### TxFormItem Props

| 属性名 | 类型 | 默认值 | 说明 |
|------|------|------|------|
| `label` | `string` | `''` | 标签文本 |
| `prop` | `string` | - | 对应字段 |
| `rules` | `FormRule \| FormRule[]` | - | 自定义规则 |
| `required` | `boolean` | `false` | 是否必填 |
| `showMessage` | `boolean` | `true` | 是否显示错误 |
| `inline` | `boolean` | `false` | 内联布局 |

### TxFormItem Events

| 事件名 | 参数 | 说明 |
|------|------|------|
| `validate` | `(valid: boolean)` | 单项校验结果 |

### Expose

| 名称 | 说明 |
|------|------|
| `validate()` | 触发表单校验 |
| `resetFields()` | 重置字段 |
| `clearValidate()` | 清空错误 |
