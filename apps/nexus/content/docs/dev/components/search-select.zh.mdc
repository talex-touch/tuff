---
title: "SearchSelect 搜索选择器"
description: "搜索选择器本质上是一个可搜索的 Select：输入时展开下拉面板，展示结果，点击结果项回填并关闭。"
category: Form
syncStatus: migrated
---
# SearchSelect 搜索选择器

搜索选择器本质上是一个可搜索的 Select：输入时展开下拉面板，展示结果，点击结果项回填并关闭。

<script setup lang="ts">
import SearchSelectBasicDemo from '~/components/content/demos/SearchSelectBasicDemo.vue'
import SearchSelectBasicDemoSource from '~/components/content/demos/SearchSelectBasicDemo.vue?raw'

import SearchSelectRemoteDemo from '~/components/content/demos/SearchSelectRemoteDemo.vue'
import SearchSelectRemoteDemoSource from '~/components/content/demos/SearchSelectRemoteDemo.vue?raw'
</script>

## 基础用法

### SearchSelect
:::TuffDemoWrapper{demo="SearchSelectSearchSelectDemo" code-lang="vue"}
---
code: |
  <script setup lang="ts">
  import { ref } from 'vue'

  const value = ref<string | number>('')

  const options = [
    { value: 'foo', label: 'Foo' },
    { value: 'bar', label: 'Bar' },
    { value: 'baz', label: 'Baz' },
    { value: 'disabled', label: 'Disabled', disabled: true },
  ]
  </script>

  <template>
    <div style="display: flex; flex-direction: column; gap: 10px; width: 320px;">
      <TxSearchSelect v-model="value" :options="options" placeholder="Search and pick" />
      <div style="font-size: 12px; color: var(--tx-text-color-secondary, #909399);">
        Value: {{ value }}
      </div>
    </div>
  </template>
---
:::

## 远程搜索

`remote=true` 时，将在输入变化（防抖）与 Enter 时触发 `search` 事件，你需要外部请求并将结果写回 `options`。

### SearchSelect (remote)
:::TuffDemoWrapper{demo="SearchSelectSearchSelectRemoteDemo" code-lang="vue"}
---
code: |
  <script setup lang="ts">
  import { ref } from 'vue'

  const value = ref<string | number>('')
  const query = ref('')
  const loading = ref(false)

  const options = ref<Array<{ value: string, label: string }>>([])

  async function onSearch(q: string) {
    query.value = q
    loading.value = true
    await new Promise(resolve => setTimeout(resolve, 220))

    const base = Array.from({ length: 18 }).map((_, i) => `Result ${i + 1}`)
    const list = base
      .filter(s => s.toLowerCase().includes(q.trim().toLowerCase()))
      .slice(0, 12)

    options.value = list.map(s => ({ value: s, label: s }))
    loading.value = false
  }
  </script>

  <template>
    <div style="display: flex; flex-direction: column; gap: 10px; width: 320px;">
      <TxSearchSelect
        v-model="value"
        remote
        :loading="loading"
        :options="options"
        placeholder="Type to remote-search"
        @search="onSearch"
      />

      <div style="font-size: 12px; color: var(--tx-text-color-secondary, #909399);">
        Query: {{ query || '-' }}
      </div>
    </div>
  </template>
---
:::

## 注意事项

- 本地模式会基于 `options` 的 `label` 进行过滤，输入为空时显示全部。
- 远程模式需要在 `search` 事件中自行更新 `options`，组件不会缓存结果。

## API

### Props

| 属性名 | 类型 | 默认值 | 说明 |
|------|------|---------|------|
| `modelValue` | `string \| number` | `''` | 选中值（v-model） |
| `placeholder` | `string` | `'Search'` | 占位 |
| `disabled` | `boolean` | `false` | 禁用 |
| `clearable` | `boolean` | `true` | 可清空 |
| `options` | `TxSearchSelectOption[]` | `[]` | 下拉数据源 |
| `loading` | `boolean` | `false` | loading 状态 |
| `remote` | `boolean` | `false` | 是否远程搜索（输入触发 `search`） |
| `searchDebounce` | `number` | `200` | 远程搜索防抖（ms） |
| `dropdownMaxHeight` | `number` | `280` | 下拉最大高度 |
| `dropdownOffset` | `number` | `6` | 下拉偏移 |
| `panelVariant` | `'solid' \| 'dashed' \| 'plain'` | `'solid'` | 面板边框形态（TxCard variant） |
| `panelBackground` | `'blur' \| 'glass' \| 'mask'` | `'glass'` | 面板背景（TxCard background） |
| `panelShadow` | `'none' \| 'soft' \| 'medium'` | `'soft'` | 面板阴影（TxCard shadow） |
| `panelRadius` | `number` | `18` | 面板圆角（TxCard radius） |
| `panelPadding` | `number` | `6` | 面板 padding（TxCard padding） |

### Events

| 事件名 | 参数 | 说明 |
|------|------|------|
| `update:modelValue` | `(v: string \| number)` | v-model 更新 |
| `change` | `(v: string \| number)` | 选中变更 |
| `search` | `(q: string)` | 远程搜索 |
| `select` | `(opt: TxSearchSelectOption)` | 选择某一项 |
| `open` | - | 打开下拉 |
| `close` | - | 关闭下拉 |

### Types

:::TuffCodeBlock{lang="ts"}
---
code: |
  export interface TxSearchSelectOption {
    value: string | number
    label: string
    disabled?: boolean
  }
---
:::
