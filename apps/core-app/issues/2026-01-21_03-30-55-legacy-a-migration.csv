"id","priority","phase","area","title","description","acceptance_criteria","test_mcp","review_initial_requirements","review_regression_requirements","dev_state","review_initial_state","review_regression_state","git_state","owner","refs","notes"
"LEG-A-010","P1","1","frontend","迁移剪贴板通道弃用API","移除 useClipboardChannel 中已弃用的同步/旧事件接口，统一到 TuffTransport ClipboardEvents。","rg 不再命中 getLatestClipboardSync 与旧事件名；useClipboardChannel 暴露的 API 仅包含新事件；功能调用改为新 API。","AUTOFRONTEND","仅替换内部调用，不影响外部行为；保留必要的兼容提示。","手动走一遍剪贴板监听流程，确认事件仍能触发。","已完成","已完成","已完成","已提交","","src/renderer/src/modules/box/adapter/hooks/useClipboardChannel.ts:1;src/renderer/src/modules/box/adapter/hooks/useClipboardChannel.ts:78;src/renderer/src/modules/box/adapter/hooks/useClipboard.ts:125;src/renderer/src/modules/box/adapter/hooks/useVisibility.ts:89","picked_reason:优先处理剪贴板弃用API以减少运行时兼容负担;evidence:removed_sync_clipboard_api;validation_limited:no_automated_tests;manual_test:open CoreBox paste/auto-paste flow;risk:medium;done_at:2026-01-21;git_ready:true;blocked:commitlint type-enum (refactor not allowed);blocked_resolved:commitlint type-enum;commit_type:update"
"LEG-A-020","P1","2","frontend","移除 FileTag legacy buffer 支持","移除 FileTag 组件对 deprecated buffer 字段的支持，统一使用 iconPath。","FileTag.vue 中 buffer 字段与相关渲染逻辑被删除；rg 不再命中 legacy buffer 注释；相关调用已迁移到 iconPath。","AUTOFRONTEND","检查 tag 数据来源，确保无现存 buffer 依赖。","打开文件标签视图，图标显示正常。","已完成","已完成","已完成","已提交","","src/renderer/src/views/box/tag/FileTag.vue:1;src/renderer/src/views/box/tag/FileTag.vue:1","picked_reason:移除 UI 端 legacy buffer 支持以减少弃用字段传播;evidence:removed_legacy_buffer_prop;validation_limited:no_automated_tests;manual_test:open box file tag view ensure icon renders;risk:low;done_at:2026-01-21;blocked:commitlint subject-case;blocked_resolved:commitlint subject-case;commit_subject:drop legacy buffer support"
"LEG-A-030","P1","3","frontend","清理旧插件格式处理路径","移除 dropper-resolver 中旧插件格式处理路径，仅保留 .tpex 处理并更新提示。","旧插件格式分支被移除；错误提示仍清晰可追踪；相关调用无残留。","AUTOFRONTEND","确保仅影响旧格式处理分支。","验证拖入旧格式时提示仍合理（或被禁止）。","已完成","已完成","已完成","已提交","","src/renderer/src/modules/hooks/dropper-resolver.ts:1;src/renderer/src/modules/hooks/dropper-resolver.ts:18","evidence:removed_touch_plugin_branch;validation_limited:no_automated_tests;manual_test:drop .touch-plugin and .tpex to verify messaging;risk:low;done_at:2026-01-21"
"LEG-A-040","P1","4","backend","移除 FlowBus 旧插件集成路径","清理 flow-bus/module.ts 中 deprecated 插件集成路径，确保使用 TuffTransport handlers。","旧集成路径不再执行；主路径保持可用；日志/提示清晰。","AUTOSERVER","变更不影响现有 transport handlers。","回归触发 FlowBus 插件处理链路无异常。","已完成","已完成","已完成","已提交","","src/main/modules/flow-bus/module.ts:1;src/main/modules/flow-bus/module.ts:60","picked_reason:清理 FlowBus 旧插件集成路径以收敛 transport 入口;evidence:removed_deprecated_plugin_integration_call;validation_limited:no_automated_tests;manual_test:trigger flow transfer shortcut;risk:medium;done_at:2026-01-21;blocked:lint-staged empty commit reverted changes;blocked_resolved:lint-staged empty commit;no_code_change:true"
"LEG-A-050","P1","5","backend","替换 widget legacy compile","将 widget-compiler 中 legacy compile 迁移到 processor-based compile，移除 legacy 接口暴露。","legacy compile 导出/调用被移除或变为内部适配；调用方已改为新接口；rg 不再命中 legacy compile 注释。","AUTOSERVER","确认插件编译链路仍可用。","执行 widget 编译相关流程无异常。","已完成","已完成","已完成","已提交","","src/main/modules/plugin/widget/widget-compiler.ts:1;src/main/modules/plugin/widget/widget-compiler.ts:1","picked_reason:收敛 widget 编译接口避免 legacy API 暴露;evidence:removed_legacy_compile_export;validation_limited:no_automated_tests;manual_test:open widget compile flow in dev;risk:medium;done_at:2026-01-21"
"LEG-A-060","P1","6","backend","收敛 Plugin API 弃用方法","在 plugin.ts 中移除或封装 deprecated Plugin API（clearItems/pushItems/getItems 等），确保内部调用改为新接口。","deprecated API 仅保留最小兼容包装或被移除；核心调用链使用 plugin.feature.*；日志仍指引迁移。","AUTOSERVER","避免破坏外部插件生态，必要时保留兼容包装。","检查插件功能调用链可正常工作。","已完成","已完成","已完成","已提交","","src/main/modules/plugin/plugin.ts:1;src/main/modules/plugin/plugin.ts:900;src/main/modules/plugin/plugin.ts:1290","picked_reason:收敛 plugin deprecated API 以减少生态负担;evidence:deprecated_api_wrapped;validation_limited:no_automated_tests;manual_test:trigger plugin search results and verify warnings;risk:medium;done_at:2026-01-21"
"LEG-A-070","P1","7","backend","移除 legacy TrayHolder 模块","确保 legacy TrayHolder 模块不再被加载/引用，统一使用 TrayManager。","模块加载列表/引用中无 TrayHolder；相关调用链路稳定。","AUTOSERVER","确认系统托盘功能不受影响。","启动后托盘功能正常。","已完成","已完成","已完成","已提交","","src/main/modules/tray-holder.ts:1;src/main/index.ts:28;src/main/modules/tray-holder.ts:1","evidence:removed_trayholder_reference;validation_limited:no_automated_tests;manual_test:launch app verify tray via TrayManager;risk:medium;done_at:2026-01-21"
"LEG-A-080","P1","8","backend","替换 DivisionBox deprecated API","替换 division-box/session.ts 中 deprecated API 调用，统一使用 getUIView。","deprecated 方法调用点被替换；rg 不再命中相关调用；功能路径保持一致。","AUTOSERVER","确认 DivisionBox 功能不受影响。","回归 DivisionBox 打开/关闭流程。","已完成","已完成","已完成","已提交","","src/main/modules/division-box/session.ts:1;src/main/modules/division-box/session.ts:600","picked_reason:移除 division-box deprecated API;evidence:removed_deprecated_getWebContentsView;validation_limited:no_automated_tests;manual_test:open division box flow;risk:medium;done_at:2026-01-21"
"LEG-A-090","P1","9","frontend","整理 Legacy SDK 警告 UI","整理 PermissionStatusCard/SettingPermission 中 legacy SDK 警告逻辑，确保仅在 enforcePermissions=false 时展示，避免重复。","legacy 警告只在需要时展示；重复逻辑合并或移除；提示文案保持可读。","AUTOFRONTEND","不改变权限统计口径。","打开权限设置页，统计与警告展示正常。","已完成","已完成","已完成","已提交","","src/renderer/src/components/permission/PermissionStatusCard.vue:1;src/renderer/src/views/base/settings/SettingPermission.vue:300;src/renderer/src/components/permission/PermissionStatusCard.vue:80","picked_reason:收敛 legacy SDK 警告展示逻辑;evidence:legacy_warning_dedup;validation_limited:no_automated_tests;manual_test:open permission settings verify legacy warnings;risk:low;done_at:2026-01-21"
"LEG-A-100","P2","10","frontend","清理 AppList 旧排序逻辑注释","移除 AppList 中 deprecated 排序逻辑注释或遗留分支，确保仅保留当前逻辑。","AppList 仅保留当前排序实现；注释不再指向已废弃逻辑。","AUTOFRONTEND","确保列表排序行为未变化。","打开应用列表，排序与原行为一致。","未开始","未开始","未开始","未提交","","src/renderer/src/views/base/application/AppList.vue:1",""
